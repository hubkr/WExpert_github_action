<base:WEXBasePage
    x:Class="WExpert.Views.AnalysisViewerPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:base="using:WExpert.Views.Base"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:uc="using:WExpert.Controls"
    xmlns:converter="using:WExpert.Binding.Converter"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls"
    xmlns:i="using:Microsoft.Xaml.Interactivity"
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:behaviors="using:WExpert.Binding.Behavior"
    xmlns:code="using:WExpert.Code"
    xmlns:viewmodels="using:WExpert.ViewModels"
    xmlns:mscontrols="using:Microsoft.UI.Xaml.Controls"
    xmlns:models="using:WExpert.Models"
    xmlns:helper="using:WExpert.Helpers"
    KeyboardAcceleratorPlacementMode="Hidden"
    Background="{StaticResource BgBaseAlt}"
    Loaded="Page_Loaded"
    Unloaded="Page_Unloaded">

    <base:WEXBasePage.Resources>
        <!-- Converter -->
        <converter:DiagnosticTypeResultConverter x:Key="wexpertDiagnosticTypeConverter"/>
        <converter:WExpertFileConverter x:Key="wexpertFileConverter"/>
        <converter:WExpertAnalysisViewerConverter x:Key="wexpertAnalysisViewerConverter"/>
        <converter:CommonConverter x:Key="commonConverter"/>

        <!--#region Flyout Style -->
        <Style x:Key="AVLocalFlyoutPresenterStyle1"
               TargetType="FlyoutPresenter">
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="IsTabStop" Value="True"/>
            <Setter Property="TabNavigation" Value="Cycle"/>
            <Setter Property="Background" Value="{StaticResource BgBaseAlt}"/>
            <Setter Property="CornerRadius" Value="5"/>
            <Setter Property="Width" Value="212"/>
            <Setter Property="Height" Value="57"/>
            <Setter Property="BorderThickness" Value="0.5"/>
            <Setter Property="BorderBrush" Value="{StaticResource SolidDkSolid}"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
        </Style>

        <Style x:Key="AVLocalFlyoutPresenterStyle2"
               TargetType="FlyoutPresenter">
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="IsTabStop" Value="True"/>
            <Setter Property="TabNavigation" Value="Cycle"/>
            <Setter Property="Background" Value="{StaticResource BgBase}"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="16,12,16,12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource SolidDkSolid}"/>
            <Setter Property="Margin" Value="0,19,0,0"/>
        </Style>
        <!-- #endregion Flyout Style -->

        <!--#region CheckBox Style -->
        <Style x:Key="AnalysisViewerPageCheckBoxStyle1" TargetType="CheckBox"
               BasedOn="{StaticResource WEXBaseCheckBoxStyle1}">
            <Setter Property="CornerRadius" Value="2"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Padding" Value="0"/>
        </Style>
        <!-- #endregion CheckBox Style  -->

        <!--#region TextBlock Style -->
        <Style x:Key="AVLocalTextBlockStyle1" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle2" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="LineHeight" Value="17" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtGrey}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle3" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle4" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="LineHeight" Value="18"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle5" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource SolidLtSolid}"/>
            <Setter Property="LineHeight" Value="21" />
            <Setter Property="TextWrapping" Value="Wrap" />
            <Setter Property="MaxLines" Value="3" />
        </Style>

        <Style x:Key="AVLocalTextBlockStyle7" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="34"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="FontFamily" Value="{StaticResource GeistFont}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="50,0,10,0"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle9" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="9" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Foreground" Value="{StaticResource BgBaseAlt}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="6,0,6,0"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle10" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="18" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="15,0,6,0"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle11" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle12" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="10" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{StaticResource BgBaseAlt}"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle13" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="Margin" Value="5,0,0,0"/>
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle14" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle15" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtWhite}"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle16" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsRed}"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle17" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="{StaticResource WGrey100}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle18" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="Margin" Value="20,3,0,0"/>
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsRed}"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle19" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="LineHeight" Value="24"/>
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle20" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle21" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="LineHeight" Value="18" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
        </Style>

        <Style x:Key="AVLocalTextBlockStyle22" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Width" Value="24" />
            <Setter Property="Height" Value="24" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="5" />
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="Margin" Value="0"/>
        </Style>
        <!--#endregion TextBlock Style -->

        <!--#region RichTextBlock Style-->
        <Style x:Key="AVLocalRichTextBlockStyle1" TargetType="RichTextBlock"
               BasedOn="{StaticResource RichTextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="LineHeight" Value="24" />
            <Setter Property="Margin" Value="0,0,0,15" />
            <Setter Property="MaxLines" Value="1"/>
        </Style>

        <Style x:Key="AVLocalRichTextBlockStyle2" TargetType="RichTextBlock"
               BasedOn="{StaticResource RichTextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="LineHeight" Value="21" />
            <Setter Property="Margin" Value="0,0,0,6" />
            <Setter Property="Foreground" Value="{StaticResource Answer}"/>
        </Style>

        <Style x:Key="AVLocalRichTextBlockStyle3" TargetType="RichTextBlock"
               BasedOn="{StaticResource RichTextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="MaxLines" Value="1" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalRichTextBlockStyle4" TargetType="RichTextBlock"
               BasedOn="{StaticResource RichTextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="MaxLines" Value="1"/>
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
        </Style>

        <Style x:Key="AVLocalRichTextBlockStyle5" TargetType="RichTextBlock"
               BasedOn="{StaticResource RichTextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="LineHeight" Value="20" />
            <Setter Property="Margin" Value="0,0,5,0" />
            <Setter Property="MinHeight" Value="25"/>
        </Style>
        <!--#endregion RichTextBlock Style -->
        
        <!--#region TextBox Style -->
        <Style x:Key="AVLocalTextBoxStyle2" TargetType="TextBox"
               BasedOn="{StaticResource WEXLineTextBoxStyle1}">
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="10,12,10,8"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="MaxLength" Value="50"/>
        </Style>

        <Style x:Key="AVLocalTextBoxStyle3" TargetType="TextBox"
               BasedOn="{StaticResource WEXLineTextBoxStyle1}">
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="AcceptsReturn" Value="True"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="Height" Value="130"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="10,14,10,10"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="MaxLength" Value="1000" />
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Visible"/>
        </Style>        
        <!--#endregion TextBox Style -->
        
        <!--#region Radion Button Style -->
        <Style x:Key="AVLocalRadioButtonStyle1" TargetType="RadioButton"
               BasedOn="{StaticResource WEXRadioButtonStyle1}">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontFamily" Value="{StaticResource DefaultFont}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="Margin" Value="6,0,0,0"/>
        </Style>
        <!--#endregion Radio Button Style -->

        <!-- #region Combobox Style -->
        <Style x:Key="AVLocalComboboxStyle1" TargetType="ComboBox"
               BasedOn="{StaticResource WEXLineComboBoxStyle1}">
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="{StaticResource SolidLtSolid}"/>
            <Setter Property="FontFamily" Value="{StaticResource DefaultFont}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="AVLocalComboboxItemStyle1" TargetType="ComboBoxItem"
               BasedOn="{StaticResource WEXLineComboBoxStyle1}">
        </Style>
        <!-- #endregion Combobox Style -->
        
        <!--#region Button Style -->
        <Style x:Key="AVLocalTextButtonStyle1" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Height" Value="45"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="8,0,16,0" />
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="AVLocalButtonStyle2" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Height" Value="32"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Background" Value="Transparent" />
        </Style>

        <Style x:Key="AVLocalButtonStyle3" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle1}">
            <Setter Property="Height" Value="40"/>
            <Setter Property="Margin" Value="20,10,20,10"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
        </Style>

        <Style x:Key="AVLocalButtonStyle4" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle2}">
            <Setter Property="Width" Value="125" />
            <Setter Property="Height" Value="38" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Background" Value="{StaticResource ComponentsLtGreen}" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtWhite}" />
        </Style>

        <Style x:Key="AVLocalButtonStyle5" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle2}">
            <Setter Property="Width" Value="125" />
            <Setter Property="Height" Value="38" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Background" Value="{StaticResource ComponentsYellow}" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtWhite}" />

        </Style>

        <Style x:Key="AVLocalButtonStyle7" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Width" Value="50" />
            <Setter Property="Height" Value="50" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="CornerRadius" Value="6" />
        </Style>

        <Style x:Key="AVLocalButtonStyle8" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle1}">
            <Setter Property="Width" Value="100" />
            <Setter Property="Height" Value="40" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
        </Style>

        <Style x:Key="AVLocalButtonStyle9" TargetType="Button"
           BasedOn="{StaticResource WEXLineButtonStyle1}">
            <Setter Property="Width" Value="100" />
            <Setter Property="Height" Value="40" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="Foreground" Value="{StaticResource SolidLtSolid}" />
            <Setter Property="BorderBrush" Value="{StaticResource SolidLtSolid}" />
        </Style>

        <Style x:Key="AVLocalButtonStyle10" TargetType="Button"
                   BasedOn="{StaticResource WEXSolidButtonStyle2}">
            <Setter Property="Height" Value="40" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Background" Value="{StaticResource ComponentsLtBrand}" />
        </Style>

        <Style x:Key="AVLocalButtonStyle11" TargetType="Button"
           BasedOn="{StaticResource WEXLineButtonStyle1}">
            <Setter Property="Height" Value="40" />
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="Foreground" Value="{StaticResource SolidLtSolid}" />
            <Setter Property="BorderBrush" Value="{StaticResource SolidLtSolid}" />
        </Style>

        <Style x:Key="AVLocalButtonStyle12" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle2}">
            <Setter Property="Height" Value="38"/>
            <!--<Setter Property="Width" Value="110"/> -->
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="20,5,20,5" />
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="{StaticResource ComponentsLtBrand}" />
        </Style>

        <Style x:Key="AVLocalButtonStyle13" TargetType="Button"
           BasedOn="{StaticResource WEXLineButtonStyle1}">
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="Foreground" Value="Transparent" />
            <Setter Property="BorderBrush" Value="Transparent" />
            <Setter Property="Background" Value="{StaticResource TypeTransparent5}" />
        </Style>
        <!--#endregion Button Style -->

        <!--#region Expander Style -->
        <Style x:Key="AVLocalExpanderStyle1" TargetType="Expander"
               BasedOn="{StaticResource WEXBaseExpanderStyle1}">
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
            <Setter Property="VerticalContentAlignment" Value="Stretch"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Padding" Value="0"/>
        </Style>
        <!--#endregion Expander Style -->

        <!--#region Image Style -->
        <Style x:Name="AVLocalImageStyle1" TargetType="Image">
            <!-- <Setter Property="Width" Value="24" /> -->
            <Setter Property="Height" Value="24" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Stretch" Value="Uniform" />
        </Style>
        <!--#endregion Image Style -->

        <!--#region ListView Item -->
        <Style x:Key="AVLocalListViewItem1" TargetType="ListViewItem"
               BasedOn="{StaticResource WEXBaseListViewItemStyle3}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="FontFamily" Value="{StaticResource DefaultFont}" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtWhite}" />
        </Style>
        <!--#endregion ListView Style -->

        <!--#region ToggleButton Style -->
        <Style x:Key="AnalysisLocalToggleButtonStyle1" TargetType="ToggleButton"
               BasedOn="{StaticResource WEXBaseToggleButtonStyle1}">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="CornerRadius" Value="25"/>
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="BorderBrush" Value="{StaticResource SolidFocus}"/>
            <Setter Property="BorderThickness" Value="3"/>
        </Style>
        <!--#endregion ToggleButton Style -->

        <!--#region Slider Style -->
        <Style x:Key="AnalysisLocalSliderStyle1" TargetType="Slider"
               BasedOn="{StaticResource WEXSliderStyle1}">
            <Setter Property="Width" Value="182"/>
            <Setter Property="Margin" Value="5,0,10,0"/>
            <Setter Property="TickPlacement" Value="None"/>
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtBrand}"/>
            <Setter Property="Background" Value="{StaticResource ComponentsLtGrey}" />
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>
        <!--#endregion Slider Style -->

        <!--#region Splitter Style -->
        <Style x:Key="AnalysisLocalSplitterStyle1" TargetType="controls:GridSplitter">
            <Setter Property="Canvas.ZIndex" Value="1"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="controls:GridSplitter">
                        <Grid x:Name="layoutRoot" Background="{TemplateBinding Background}" Width="6">
                            <VisualStateManager.VisualStateGroups>
                                <VisualStateGroup x:Name="CommonStates">
                                    <VisualState x:Name="Normal"/>
                                    <VisualState x:Name="PointerOver">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="layoutRoot">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TypeTransparent20}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="thumbElement">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource SolidDkSolid}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                    <VisualState x:Name="Pressed">
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="layoutRoot">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource TypeTransparent30}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Background" Storyboard.TargetName="thumbElement">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource SolidDkSolid}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </VisualState>
                                </VisualStateGroup>
                            </VisualStateManager.VisualStateGroups>

                            <!-- Thumb(꼭지) 부분 추가 -->
                            <Border x:Name="thumbElement"
                                    Width="6" 
                                    Height="80" 
                                    Background="{StaticResource BgBase}"
                                    CornerRadius="2"
                                    HorizontalAlignment="Center" 
                                    VerticalAlignment="Center"
                                    BorderBrush="Transparent"
                                    BorderThickness="0">
                                <!-- Thumb 내부에 점들 추가 -->
                                
                                <StackPanel Orientation="Vertical" 
                                            VerticalAlignment="Center" 
                                            HorizontalAlignment="Center"
                                            Spacing="1">
                                    <Ellipse Width="2" Height="2" Fill="{StaticResource SolidLtSolid}"/>
                                    <Ellipse Width="2" Height="2" Fill="{StaticResource SolidLtSolid}"/>
                                    <Ellipse Width="2" Height="2" Fill="{StaticResource SolidLtSolid}"/>
                                </StackPanel>
                              
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- #endregion Splitter Style -->                
    </base:WEXBasePage.Resources>

    <!-- Ctrl + V 단축키 이벤트 처리 -->
    <!-- 참고 : Ctrl + V Tooltip 뜨는 이슈로 제거 위해 위 KeyboardAcceleratorPlacementMode="Hidden" 속성 사용 -->
    <base:WEXBasePage.KeyboardAccelerators>
        <KeyboardAccelerator Key="V"
                             Modifiers="Control">
            <i:Interaction.Behaviors>
                <Core:EventTriggerBehavior EventName="Invoked">
                    <Core:InvokeCommandAction Command="{x:Bind ViewModel.PasteKeyDownCommand}" />
                </Core:EventTriggerBehavior>
            </i:Interaction.Behaviors>
        </KeyboardAccelerator>
    </base:WEXBasePage.KeyboardAccelerators>

    <Grid x:Name="ContentArea" SizeChanged="ContentArea_SizeChanged">
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>   <!-- Heder -->
            <RowDefinition Height="*"/>    <!-- Body -->
            <RowDefinition Height="Auto"/> <!-- Footer -->
        </Grid.RowDefinitions>
        
        <!-- #region Header -->
        <Grid Grid.Row="0" Background="{StaticResource BgBase}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="2"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="8"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0"
                        Margin="22,0,22,0"
                        HorizontalAlignment="Center"
                        Orientation="Horizontal">

                <Rectangle Width="12"/>
                
                <!-- Brightness -->
                <Button Style="{StaticResource AVLocalButtonStyle2}">
                    <Button.Flyout>
                        <Flyout FlyoutPresenterStyle="{StaticResource AVLocalFlyoutPresenterStyle1}"
                                Opened="Toolbar_Flyout_Opened"
                                Closed="Toolbar_Flyout_Closed">
                            <StackPanel>
                                <Grid Margin="5,0,5,5">
                                    <TextBlock x:Uid="CtlBrightness"
                                               Style="{StaticResource AVLocalTextBlockStyle14}"/>
                                </Grid>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="26"/>
                                    </Grid.ColumnDefinitions>

                                    <Image Grid.Column="0" 
                                           Source="ms-appx:///Assets/images/Bright.png"
                                           Style="{StaticResource AVLocalImageStyle1}"/>

                                    <Slider Grid.Column="1"
                                            Style="{StaticResource AnalysisLocalSliderStyle1}"
                                            Minimum="-100"
                                            Maximum="100"
                                            StepFrequency="5"
                                            SmallChange="5"
                                            LargeChange="50"
                                            TickFrequency="100"
                                            Value="{x:Bind ViewModel.BrightnessSliderValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    <TextBlock Grid.Column="2"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"
                                               Text="{x:Bind ViewModel.BrightnessSliderValue, Mode=OneWay}"/>
                                </Grid>
                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>

                    <Image Source="ms-appx:///Assets/images/Bright.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlBrightnessTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Contrast -->
                <Button Style="{StaticResource AVLocalButtonStyle2}">
                    <Button.Flyout>
                        <Flyout FlyoutPresenterStyle="{StaticResource AVLocalFlyoutPresenterStyle1}"
                                Opened="Toolbar_Flyout_Opened"
                                Closed="Toolbar_Flyout_Closed">
                            <StackPanel>
                                <Grid Margin="5,0,5,5">
                                    <TextBlock x:Uid="CtlContrast"
                                               Style="{StaticResource AVLocalTextBlockStyle14}"/>
                                </Grid>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="26"/>
                                    </Grid.ColumnDefinitions>
                                    
                                    <Image Grid.Column="0" 
                                           Source="ms-appx:///Assets/images/Contrast.png"
                                           Style="{StaticResource AVLocalImageStyle1}"/>

                                    <Slider Grid.Column="1"
                                            Style="{StaticResource AnalysisLocalSliderStyle1}"
                                            Minimum="-100"
                                            Maximum="100"
                                            StepFrequency="5"
                                            SmallChange="5"
                                            LargeChange="50"
                                            TickFrequency="100"                                           
                                            Value="{x:Bind ViewModel.ContrastSliderValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    <TextBlock Grid.Column="2"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"
                                               Text="{x:Bind ViewModel.ContrastSliderValue, Mode=OneWay}"/>
                                </Grid>
                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>

                    <Image Source="ms-appx:///Assets/images/Contrast.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlContrastTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Sharpness -->
                <Button Style="{StaticResource AVLocalButtonStyle2}">
                    <Button.Flyout>
                        <Flyout FlyoutPresenterStyle="{StaticResource AVLocalFlyoutPresenterStyle1}"
                                Opened="Toolbar_Flyout_Opened"
                                Closed="Toolbar_Flyout_Closed">

                            <StackPanel>
                                <Grid Margin="5,0,5,5">
                                    <TextBlock x:Uid="CtlSharpness"
                                               Style="{StaticResource AVLocalTextBlockStyle14}"/>
                                </Grid>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="26"/>
                                    </Grid.ColumnDefinitions>

                                    <Image Grid.Column="0" 
                                           Source="ms-appx:///Assets/images/Sharp.png"
                                           Style="{StaticResource AVLocalImageStyle1}"/>

                                    <Slider Grid.Column="1"
                                            Style="{StaticResource AnalysisLocalSliderStyle1}"
                                            Minimum="-150"
                                            Maximum="150"                                            
                                            StepFrequency="5"
                                            TickFrequency="150"
                                            SmallChange="5"
                                            LargeChange="50"
                                            Value="{x:Bind ViewModel.SharpnessSliderValue, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    <TextBlock Grid.Column="2"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"
                                               Text="{x:Bind ViewModel.SharpnessSliderValue, Mode=OneWay}"/>
                                </Grid>
                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>

                    <Image Source="ms-appx:///Assets/images/Sharp.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlSharpnessTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Flip Horizontal -->
                <Button Style="{StaticResource AVLocalButtonStyle2}"
                        Command="{x:Bind ViewModel.FlipHorizontalCommand}">
                    <Image Source="ms-appx:///Assets/images/FlipHorizontal.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlFlipHorizontalTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Flip Vertical -->
                <Button Style="{StaticResource AVLocalButtonStyle2}"
                        Command="{x:Bind  ViewModel.FlipVerticalCommand}">
                    <Image Source="ms-appx:///Assets/images/FlipVertical.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlFlipVerticalTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Zoom -->
                <Button Style="{StaticResource AVLocalButtonStyle2}">
                    <Button.Flyout>
                        <Flyout FlyoutPresenterStyle="{StaticResource AVLocalFlyoutPresenterStyle1}"
                                Opened="Toolbar_Flyout_Opened"
                                Closed="Toolbar_Flyout_Closed">
                            <StackPanel>
                                <Grid Margin="5,0,5,5">
                                    <TextBlock x:Uid="StringZoom"
                                                Style="{StaticResource AVLocalTextBlockStyle14}"/>
                                </Grid>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="24"/>
                                    </Grid.ColumnDefinitions>

                                    <Image Grid.Column="0" 
                                           Source="ms-appx:///Assets/images/Zoom.png"
                                           Style="{StaticResource AVLocalImageStyle1}"/>

                                    <Slider Grid.Column="1"
                                            Style="{StaticResource AnalysisLocalSliderStyle1}"
                                            Minimum="10"
                                            Maximum="500"
                                            StepFrequency="10"
                                            TickFrequency="100"
                                            SmallChange="10"
                                            LargeChange="100"
                                            ValueChanged="SliderZoom_ValueChanged"
                                            Value="{x:Bind ViewModel.Zoom, Mode=OneWay,    
                                                    Converter={StaticResource wexpertAnalysisViewerConverter},
                                                    ConverterParameter='ZoomSlider'}"/>

                                    <TextBlock Grid.Column="2"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"
                                               Text="{x:Bind ViewModel.Zoom, Mode=OneWay, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ZoomTextValue'}"/>
                                </Grid>
                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>
                    <Image Source="ms-appx:///Assets/images/Zoom.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlZoomTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Fit to screen -->
                <Button Style="{StaticResource AVLocalButtonStyle2}"
                        Command="{x:Bind ViewModel.FitToScreenCommand}"
                        IsEnabled="{x:Bind ViewModel.FitToScreen, Mode=OneWay, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='FitToScreenBtnEnable'}">
                    <Image Source="ms-appx:///Assets/images/FitToScreen.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlFitToScreenTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>
                
                <!-- Real Szie -->
                <!--
                <Button Style="{StaticResource AVLocalButtonStyle2}"
                        Command="{x:Bind ViewModel.RealSizeCommand}"
                        IsEnabled="{x:Bind ViewModel.RealSize, Mode=OneWay, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='RealSizeBtnEnable'}">
                    <Image Source="ms-appx:///Assets/images/RealSize.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlRealSizeTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>
                <Rectangle Width="12"/>
                -->

                <!-- ROI Marking outlines -->
                <!--
                <Button Style="{StaticResource AVLocalButtonStyle2}">
                    <Button.Flyout>
                        <Flyout FlyoutPresenterStyle="{StaticResource AVLocalFlyoutPresenterStyle1}"
                                Opened="Toolbar_Flyout_Opened"
                                Closed="Toolbar_Flyout_Closed">
                            <StackPanel>
                                <Grid Margin="5,0,5,12">
                                    <TextBlock x:Uid="ROIMarkingOutline"
                                               Style="{StaticResource AVLocalTextBlockStyle14}"/>
                                </Grid>

                                <Grid Margin="5,10,5,5">
                                    <TextBlock x:Uid="CtlThickness"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"/>
                                </Grid>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="14"/>
                                    </Grid.ColumnDefinitions>
                                    <Slider Grid.Column="0"
                                            Style="{StaticResource AnalysisLocalSliderStyle1}"
                                            Width="186"
                                            Minimum="0"
                                            Maximum="5"
                                            StepFrequency="1"
                                            SmallChange="1"
                                            LargeChange="1"
                                            TickFrequency="1"
                                            TickPlacement="Inline"
                                            Value="{x:Bind ViewModel.ROIOutlineThickness, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    <TextBlock Grid.Column="1"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"
                                               Text="{x:Bind ViewModel.ROIOutlineThickness, Mode=OneWay}"/>
                                </Grid>
                                
                                <Rectangle Height="1"
                                           Margin="-12,10,-12,10"
                                           HorizontalAlignment="Stretch"
                                           VerticalAlignment="Stretch"
                                           Fill="{StaticResource WGrey300}"/>

                                <Grid Margin="5,0,5,10">
                                    <TextBlock x:Uid="CtlColor"
                                               Style="{StaticResource AVLocalTextBlockStyle15}"/>
                                </Grid>

                                <Grid x:Name="AreaOutlineGrid"
                                      Margin="5,10,5,10"
                                      HorizontalAlignment="Stretch">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="32"/>
                                        <RowDefinition Height="25"/>
                                        <RowDefinition Height="32"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="32"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="32"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid Grid.Row="0"
                                          Grid.Column="0"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline1}">
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR1"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="0"
                                          Grid.Column="2"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline2}" >
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR2"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="0"
                                          Grid.Column="4"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline3}" >
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR3"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="0"
                                          Grid.Column="6"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline4}" >
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR4"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="2"
                                          Grid.Column="0"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline5}">
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR5"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="2"
                                          Grid.Column="2"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline6}" >
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR6"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="2"
                                          Grid.Column="4"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline7}" >
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR7"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>

                                    <Grid Grid.Row="2"
                                          Grid.Column="6"
                                          Width="32"
                                          Height="32"
                                          CornerRadius="25"
                                          Background="{StaticResource WSegOutline8}" >
                                        <ToggleButton Style="{StaticResource AnalysisLocalToggleButtonStyle1}"
                                                      Tag="COLOR8"
                                                      Click="ROIOutlineColorButton_Click" />
                                    </Grid>
                                </Grid>
                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>

                    <Image Source="ms-appx:///Assets/images/Palette.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    
                    <ToolTipService.ToolTip>
                        <TextBlock x:Uid="ROIMarkingOutline"/>
                    </ToolTipService.ToolTip>

                </Button>

                <Rectangle Width="12"/>
                -->
                
                <!-- 현재 이미지 화면 저장 -->
                <Button Style="{StaticResource AVLocalButtonStyle2}"
                        Command="{x:Bind ViewModel.ExportCommand}">
                    <Image Source="ms-appx:///Assets/images/Export.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlExportImageTooltip"/>
                    </ToolTipService.ToolTip>
                </Button>

                <Rectangle Width="12"/>

            </StackPanel>
          
            <StackPanel Grid.Column="2" Orientation="Horizontal">
                <Rectangle Width="1" Fill="{StaticResource SolidDkSolid}" Opacity="0.6"/>
                <Rectangle Width="1" Fill="{StaticResource SolidDkSolid}" Opacity="0.4"/>
            </StackPanel>

            <Grid Grid.Column="4">
                <!-- Admin Note Button -->
                <Button Style="{StaticResource AVLocalButtonStyle2}"                     
                        Visibility="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                                     Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='EnableAdminNoteButton'}"
                        Command="{x:Bind ViewModel.ViewAdminNoteCommand}">
                    <Image Source="ms-appx:///Assets/Images/IconAdminNote.png"
                           Style="{StaticResource AVLocalImageStyle1}"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlViewNote"/>
                    </ToolTipService.ToolTip>
                    
                    <Button.Flyout>
                        <Flyout FlyoutPresenterStyle="{StaticResource AVLocalFlyoutPresenterStyle2}"
                                Placement="BottomEdgeAlignedRight"
                                Opened="Toolbar_Flyout_Opened"
                                Closed="Toolbar_Flyout_Closed">
                            <Grid Width="300">
                                <Grid.RowDefinitions>
                                    <RowDefinition/>
                                    <RowDefinition Height="12"/>
                                    <RowDefinition/>
                                    <RowDefinition Height="12"/>
                                    <RowDefinition/>
                                    <RowDefinition Height="12"/>
                                    <RowDefinition/>
                                </Grid.RowDefinitions>
                                <Grid Grid.Row="0">
                                    <TextBlock x:Uid="CtlNote"
                                               Style="{StaticResource AVLocalTextBlockStyle11}"/>

                                    <Button Style="{StaticResource AVLocalTextBlockStyle22}"
                                            Click="CloseAdminNoteFlyout_Click">
                                        <Image Style="{StaticResource DialogHeaderCloseButtonStyle1}"/>
                                        <ToolTipService.ToolTip>
                                            <ToolTip x:Uid="CtlCloseTooltip" />
                                        </ToolTipService.ToolTip>
                                    </Button>
                                </Grid>
                                <Grid Grid.Row="2">
                                    <ScrollViewer MaxHeight="150"
                                                  VerticalScrollBarVisibility="Auto">
                                        <RichTextBlock Style="{StaticResource AVLocalRichTextBlockStyle5}">
                                            <Paragraph>
                                                <Run Text="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                                                    Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='AdminNoteText'}" />
                                            </Paragraph>
                                        </RichTextBlock>
                                    </ScrollViewer>
                                </Grid>
                                <Grid Grid.Row="4">
                                    <Rectangle Height="1" Margin="0,0,0,5" Fill="{StaticResource SolidDkSolid}"/>
                                </Grid>
                                <Grid Grid.Row="6">
                                    <TextBlock Style="{StaticResource AVLocalTextBlockStyle21}"
                                               Text="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                                                        Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='AdminNoteDate'}"/>
                                </Grid>
                            </Grid>
                        </Flyout>
                    </Button.Flyout>
                </Button>
            </Grid>
            <Grid Grid.Column="6"
                  MinWidth="10"
                  MaxWidth="450"
                  Visibility="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                               Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ShowPatientInfobar'}"
                  VerticalAlignment="Center"
                  HorizontalAlignment="Right">
                <RichTextBlock Style="{StaticResource AVLocalRichTextBlockStyle4}"
                           ToolTipService.ToolTip="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                                     Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='PatientInfoTooltip'}">
                    <Paragraph>
                        <Run Text="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                                     Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='PatientName'}"/>
                        <Run Text=" | "/>
                        <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정)
                        <Run Text="{x:Bind ViewModel.PatientInfoType, Mode=OneWay}"/>
                        <Run Text=" | "/>
                        -->
                        <Run Text="{x:Bind ViewModel.PatientOneData, Mode=OneWay,
                                     Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='PatientRegisteredDate'}"/>
                    </Paragraph>
                </RichTextBlock>
            </Grid>

            <Grid Grid.Column="7" Margin="20,0,8,0">

                <Button Style="{StaticResource AVLocalButtonStyle12}"
                        IsEnabled="{x:Bind ViewModel.IsTotalDiagnosingComplete, Mode=OneWay}"
                        Command="{x:Bind  ViewModel.ReportExportCommand}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="ms-appx:///Assets/images/Report.png"
                               Style="{StaticResource AVLocalImageStyle1}"/>
                        <Rectangle Width="10"/>

                        <TextBlock x:Uid="CtlPrintReportBtn"
                                       FontSize="14"
                                       FontFamily="{StaticResource DefaultFont}"
                                       VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
            </Grid>

            <Grid Grid.Column="8" Margin="8,0,18,0">
                <Button Style="{StaticResource AVLocalTextButtonStyle1}"
                         IsEnabled="{x:Bind Frame.CanGoBack, Mode=OneWay}"
                         Command="{x:Bind ViewModel.GoBackCommand}">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="ms-appx:///Assets/Images/Exit.png"
                               Width="22"
                               Height="22"/>
                        <Rectangle Width="8"/>
                        <TextBlock x:Uid="CtlPatientList"
                                   Style="{StaticResource AVLocalTextBlockStyle2}"/>
                    </StackPanel>

                </Button>
            </Grid>
        </Grid>
        <!-- #endregion -->

        <!-- #region Boody -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>    <!-- UltraSound Viewer -->
                <ColumnDefinition Width="{x:Bind ViewModel.AnalysisResultWidth, Mode=OneWay}"/> <!-- Analysis Result & Consultation -->
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="0"
                  Background="{StaticResource ComponentsBlack}"
                  PointerEntered="GridUSViewer_PointerEntered"
                  PointerExited="GridUSViewerGrid_PointerExited">                

                <!-- UltraSound Viewer -->
                <uc:USViewerControl x:Name="usViewer" Grid.Column="1" Grid.ColumnSpan="3" />
                    
                <uc:ProgressRingControl x:Uid="CtlTaskProgressRing"
                                        IsActiveProgressRing="{x:Bind ViewModel.ActiveImageViewerProgressRing, Mode=OneWay}"
                                        VerticalAlignment="Stretch"
                                        HorizontalAlignment="Stretch"/>

                <StackPanel Orientation="Vertical"
                            Margin="0,0,10,10"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Bottom">
                    <TextBlock Foreground="White"
                                FontSize="18"
                                Text="{x:Bind ViewModel.Zoom, Mode=OneWay, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ZoomPercent'}"/>
                </StackPanel>
                <!--
                <TextBlock Foreground="White"
                           FontSize="18"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Text="{x:Bind ViewModel.Zoom, Mode=OneWay, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ZoomPercent'}"/>
                -->
                <!-- 이전 파일로 이동 -->
                <Button x:Name="NavigationFilListPreviousBtn"
                        Style="{StaticResource AVLocalButtonStyle7}" 
                        Opacity="0"
                        HorizontalAlignment="Left" 
                        Margin="26,0,0,0" 
                        IsEnabled="{x:Bind ViewModel.EnableMovePreviousFileBtn, Mode=OneWay}" 
                        Command="{x:Bind ViewModel.MovePreviousFileCommand}">
                    <Button.Resources>
                        <Storyboard x:Name="FadeInStoryboardPrevious">
                            <DoubleAnimation Storyboard.TargetName="NavigationFilListPreviousBtn" 
                                             Storyboard.TargetProperty="Opacity" 
                                             From="0" To="1" 
                                             Duration="0:0:0.5" />
                        </Storyboard>

                        <Storyboard x:Name="FadeOutStoryboardPrevious">
                            <DoubleAnimation Storyboard.TargetName="NavigationFilListPreviousBtn" 
                                             Storyboard.TargetProperty="Opacity" 
                                             From="1" To="0" 
                                             Duration="0:0:0.5" />
                        </Storyboard>
                    </Button.Resources>
    
                    <Image Width="24" Height="24" Source="ms-appx:///Assets/Images/Previous.png"/>
    
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlPreviousButtonTooltip" />
                    </ToolTipService.ToolTip>
                </Button>
   
                <!-- 다음 파일로 이동 -->
                <Button x:Name="NavigationFilListNextBtn"
                        Style="{StaticResource AVLocalButtonStyle7}"
                        Opacity="0"
                        HorizontalAlignment="Right"
                        Margin="0,0,26,0"
                        IsEnabled="{x:Bind ViewModel.EnableMoveNextFileBtn, Mode=OneWay}"
                        Command="{x:Bind  ViewModel.MoveNextFileCommand}">

                    <Button.Resources>
                        <Storyboard x:Name="FadeInStoryboardNext">
                            <DoubleAnimation Storyboard.TargetName="NavigationFilListNextBtn" 
                                             Storyboard.TargetProperty="Opacity" 
                                             From="0" To="1" 
                                             Duration="0:0:0.5" />
                        </Storyboard>

                        <Storyboard x:Name="FadeOutStoryboardNext">
                            <DoubleAnimation Storyboard.TargetName="NavigationFilListNextBtn" 
                                             Storyboard.TargetProperty="Opacity" 
                                             From="1" To="0" 
                                             Duration="0:0:0.5" />
                        </Storyboard>
                    </Button.Resources>
                    
                    <Image Width="24"
                           Height="24"
                           Source="ms-appx:///Assets/Images/Next.png"/>
                    <ToolTipService.ToolTip>
                        <ToolTip x:Uid="CtlNextButtonTooltip" />
                    </ToolTipService.ToolTip>
                </Button>
            </Grid>
            
            <!--  Column Grid Splitter  -->
            <controls:GridSplitter x:Name="grdSpliter"
                                   Grid.Column="0"
                                   Style="{StaticResource AnalysisLocalSplitterStyle1}"
                                   ResizeBehavior="BasedOnAlignment"
                                   ResizeDirection="Columns">
                <controls:GridSplitter.RenderTransform>
                    <TranslateTransform X="3" />
                </controls:GridSplitter.RenderTransform>
            </controls:GridSplitter>

            <Grid Grid.Column="1" SizeChanged="ResultConsult_SizeChanged">
                <!-- Analysis Result & Consultation -->
                <TabView TabWidthMode="Equal"                         
                         VerticalAlignment="Stretch" 
                         SelectionChanged="ResultConsultationTabView_SelectionChanged"
                         IsAddTabButtonVisible ="False">

                    <TabView.TabItems>
                        <!-- Analysis Result Tab -->
                        <TabViewItem x:Uid="CtlAnalysisTab"                        
                                     Style="{StaticResource WEXBaseTabViewItemStyle1}"
                                     IsClosable ="False">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="2"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0">
                                    <Rectangle Height="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Fill="{StaticResource SolidDkSolid}"/>
                                </Grid>

                                <!-- #region Analysis Menu -->
                                <Grid Grid.Row="1">
                                    <ListView x:Name="AlgorithmsMenuList"
                                              SelectionMode="Multiple"
                                              Margin="0,10,0,0"
                                              ItemContainerStyle="{StaticResource AVLocalListViewItem1}"
                                              ItemsSource="{x:Bind AnalysisMenuColViewSource.View, Mode=OneWay}"
                                              Loaded="DiagnosticMenu_Loaded"
                                              ContainerContentChanging="DiagnosticMenu_ContainerContentChanging"
											  PreviewKeyDown="AlgorithmsMenuList_PreviewKeyDown">

                                        <CollectionViewSource x:Name="AnalysisMenuColViewSource" IsSourceGrouped="True"/>

                                        <i:Interaction.Behaviors>
                                            <!-- Item Tab 시 처리(Click Item Event 가 발생 하지 않아 Behavior 정의 하여 처리 -->
                                            <!-- <behaviors:AnalysisMenuTabBehavior Command="{x:Bind ViewModel.AnalysisMenuTabCommand}"/> -->

                                            <Core:EventTriggerBehavior EventName="SelectionChanged">
                                                <Core:InvokeCommandAction 
                                                        Command="{x:Bind ViewModel.AnalysisMenuSelectionChangedCommand}"
                                                        CommandParameter="{x:Bind AlgorithmsMenuList, Mode=OneWay}" />
                                            </Core:EventTriggerBehavior> 
                                        </i:Interaction.Behaviors>

                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <ItemsStackPanel AreStickyGroupHeadersEnabled="False"/>
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>

                                        <ListView.GroupStyle>
                                            <GroupStyle>
                                                <GroupStyle.HeaderTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Style="{StaticResource AVLocalTextBlockStyle10}"
                                                                   Text="{Binding Key}"/>
                                                    </DataTemplate>
                                                </GroupStyle.HeaderTemplate>

                                                <!-- Header과 Content의 구분선 제거를 위한 스타일 -->
                                                <GroupStyle.HeaderContainerStyle>
                                                    <Style TargetType="ListViewHeaderItem">
                                                        <Setter Property="Template">
                                                            <Setter.Value>
                                                                <ControlTemplate TargetType="ListViewHeaderItem">
                                                                    <ContentPresenter Content="{TemplateBinding Content}"
                                                                                      ContentTemplate="{TemplateBinding ContentTemplate}"/>
                                                                </ControlTemplate>
                                                            </Setter.Value>
                                                        </Setter>
                                                    </Style>
                                                </GroupStyle.HeaderContainerStyle>
                                            </GroupStyle>
                                        </ListView.GroupStyle>

                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <Grid Margin="0,1,0,0" Height="26" VerticalAlignment="Center">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="24"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="5"/>
                                                        <ColumnDefinition Width="6*"/>
                                                        <ColumnDefinition Width="Auto"/>
                                                        <ColumnDefinition Width="20"/>
                                                    </Grid.ColumnDefinitions>

                                                    <Grid Grid.Column="0">
                                                        <Ellipse Fill="{Binding ROIIconBg, Mode=OneWay}" Opacity="0.3" Width="22" Height="22"/>
                                                     
                                                        <Image Source="{Binding ROIIcon, Mode=OneWay, TargetNullValue={x:Null}}"
                                                                Visibility="{Binding MenuEnable, Mode=OneWay,
                                                                                Converter={StaticResource wexpertAnalysisViewerConverter},
                                                                                ConverterParameter='ViewROIIconImage'}"
                                                                Width="24"
                                                                Height="24"/>
                                                        
                                                    </Grid>
                                                    
                                                    <Grid Grid.Column="1">
                                                        <Image Source="ms-appx:///Assets/images/Child.png"
                                                                Visibility="{Binding ParentId, Mode=OneWay,
                                                                Converter={StaticResource wexpertAnalysisViewerConverter},
                                                                ConverterParameter='ViewChildIconImage'}"
                                                               Width="24" Margin="5,0,0,0"
                                                               Height="24"/>
                                                    </Grid>
                                                    
                                                    <Grid Grid.Column="3">
                                                        <TextBlock VerticalAlignment="Center"
                                                                   Foreground="{StaticResource TextTertiary}"
                                                                   Text="{Binding Name}"
                                                                   TextTrimming="CharacterEllipsis"/>
                                                    </Grid>

                                                    <Grid Grid.Column="4">
                                                        <TextBlock VerticalAlignment="Center" TextAlignment="Right"
                                                                   Text="{Binding Result}"
                                                                   Foreground="{Binding ResultTextColor}"
                                                                   TextTrimming="CharacterEllipsis"/>
                                                    </Grid>
                                                </Grid>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>
                                </Grid>
                                <!-- #endregion -->
                            </Grid>
                        </TabViewItem>

                        <!-- Consultation Tab -->
                        <TabViewItem x:Uid="CtlConsultationTab"
                                     Style="{StaticResource WEXBaseTabViewItemStyle1}"
                                     IsClosable ="False">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="2"/>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0">
                                    <Rectangle Height="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Fill="{StaticResource SolidDkSolid}"/>
                                </Grid>

                                <Grid Grid.Row="1">
                                    <ScrollViewer>
                                        <ItemsRepeater x:Name="Repeater" ItemsSource="{x:Bind ViewModel.ConsultationListItems}">
                                            <ItemsRepeater.Layout>
                                                <StackLayout Orientation="Vertical"/>
                                            </ItemsRepeater.Layout>
                                            <ItemsRepeater.ItemTemplate>
                                                <DataTemplate x:DataType="models:ConsultationListItem">
                                                    <StackPanel Margin="20,20,20,0" >

                                                        <!-- 작성일 -->
                                                        <Grid>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="12"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="*"/>
                                                            </Grid.ColumnDefinitions>

                                                            <Grid Grid.Column="0" MaxWidth="150">
                                                                <RichTextBlock Style="{StaticResource AVLocalRichTextBlockStyle3}">
                                                                    <Paragraph>
                                                                        <Run Text="{x:Bind CreatedAt, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='DateConvert'}"/>
                                                                    </Paragraph>
                                                                </RichTextBlock>
                                                            </Grid>

                                                            <Grid Grid.Column="2" MaxWidth="70">
                                                                <Border CornerRadius="8"
                                                                      Background="{StaticResource ComponentsLtPurple}"
                                                                      Height="18"
                                                                      Visibility="{x:Bind AnswerExist, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ShowConsultAnswerMessage'}">
                                                                    <TextBlock x:Uid="CtlAnswered"
                                                                               Style="{StaticResource AVLocalTextBlockStyle9}"/>
                                                                </Border>
                                                            </Grid>
                                                        </Grid>

                                                        <Rectangle Height="10"/>

                                                        <Expander Style="{StaticResource AVLocalExpanderStyle1}"
                                                                  Expanding="ConsultationExpander_Expanding"
                                                                  Collapsed="ConsultationExpander_Collapsed">
                                                            <Expander.Header>
                                                                <RichTextBlock Style="{StaticResource AVLocalRichTextBlockStyle1}">
                                                                    <Paragraph>
                                                                        <Run Text="{x:Bind Question}"/>
                                                                    </Paragraph>
                                                                </RichTextBlock>
                                                            </Expander.Header>

                                                            <Expander.Content>
                                                                <Grid HorizontalAlignment="Left">
                                                                    <!-- 답변이 없는 경우 -->
                                                                    <Grid VerticalAlignment="Top" Visibility="{x:Bind AnswerExist, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ShowConsultNoAnswerMessage'}">
                                                                        <TextBlock x:Uid="CtlNoAnswer" Foreground="{StaticResource ComponentsLtDisabled}"/>
                                                                    </Grid>

                                                                    <!-- 답변이 있는 경우 -->
                                                                    <Grid Visibility="{x:Bind AnswerExist, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='ShowConsultAnswerMessage'}">

                                                                        <Grid.ColumnDefinitions>
                                                                            <ColumnDefinition Width="Auto" />
                                                                            <!-- 이미지 컬럼 -->
                                                                            <ColumnDefinition Width="*" />
                                                                            <!-- 텍스트 컬럼 -->
                                                                        </Grid.ColumnDefinitions>

                                                                        <!-- 이미지 삽입 (왼쪽 컬럼) -->
                                                                        <Grid Grid.Column="0"
                                                                              VerticalAlignment="Top"
                                                                              Margin="0,-4,0,0">
                                                                            <Image Source="ms-appx:///Assets/images/Answer.png"
                                                                                   Width="20" 
                                                                                   Height="20"/>
                                                                        </Grid>

                                                                        <!-- RichTextBlock (텍스트 오른쪽 컬럼) -->
                                                                        <RichTextBlock Grid.Column="1"
                                                                                       Style="{StaticResource AVLocalRichTextBlockStyle2}">
                                                                            <!-- 첫 번째 문단: 텍스트 -->
                                                                            <Paragraph>
                                                                                <Run Text="{x:Bind Answer}"/>
                                                                            </Paragraph>

                                                                            <!-- 두 번째 문단: 이미지 -->
                                                                            <Paragraph Margin="{x:Bind AnswerAttachmentUrl, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='AnswerImageConvertMargin'}">
                                                                                <InlineUIContainer>
                                                                                    <Image Source="{x:Bind AnswerAttachmentUrl, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='AnswerImageConvert', TargetNullValue={x:Null}}"
                                                                                           ImageFailed="ConsultAnswer_ImageFailed"/>
                                                                                </InlineUIContainer>
                                                                            </Paragraph>
                                                                        </RichTextBlock>

                                                                    </Grid>
                                                                </Grid>
                                                            </Expander.Content>
                                                        </Expander>

                                                        <Rectangle Height="1" Fill="{StaticResource SolidDkSolid}" Margin="-20,0,-20,0"/>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ItemsRepeater.ItemTemplate>
                                        </ItemsRepeater>
                                    </ScrollViewer>

                                    <!-- No data (등록 질문이 없는 경우) -->
                                    <StackPanel Orientation="Vertical"
                                                Visibility="{x:Bind ViewModel.EmptyConsultationMessageVisible, Mode=OneWay}"
                                                VerticalAlignment="Center">
                                        <TextBlock x:Uid="CtlEmptyConsultTitle"
                                                    Style="{StaticResource AVLocalTextBlockStyle3}" />

                                        <Rectangle Height="10" />

                                        <TextBlock x:Uid="CtlEmptyConsultDesc"
                                                Style="{StaticResource AVLocalTextBlockStyle4}" />
                                    </StackPanel>

                                </Grid>

                                <!-- New consultation button-->
                                <Grid Grid.Row="2">
                                    <Button x:Uid="CtlNewConsultation"
                                            Style="{StaticResource AVLocalButtonStyle3}"
                                            Command="{x:Bind ViewModel.NewConsultationCommand}"/>
                                </Grid>

                                <ProgressRing Grid.Row="1"
                                              Style="{StaticResource WEXProgressRingStyle3}"
                                              IsActive="{x:Bind ViewModel.ActiveConsultationProgressRing, Mode=OneWay}"/>

                            </Grid>
                        </TabViewItem>
                    </TabView.TabItems>
                </TabView>
            </Grid>

            <TeachingTip Title="{x:Bind ViewModel.TeachingTipTitle, Mode=OneWay}"
                         Subtitle="{x:Bind ViewModel.TeachingTipSubtitle, Mode=OneWay}"
	                     PreferredPlacement="Center"
	                     PlacementMargin="20"
	                     IsLightDismissEnabled="False"
                         IsOpen="{x:Bind ViewModel.TeachingTipIsOpen, Mode=OneWay}">
                <TeachingTip.IconSource>
                    <FontIconSource Glyph="&#xE783;" FontFamily="Segoe MDL2 Assets"/>
                </TeachingTip.IconSource>
            </TeachingTip>
            
        </Grid>
        <!-- #endregion -->

        <!-- #region Footer -->
        <Grid Grid.Row="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="58"/>
                <RowDefinition Height= "1"/>
                <RowDefinition Height="114"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <StackPanel Margin="24,0,0,0"
                            Orientation="Horizontal"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Left">
                    <Grid Width="24" Height="24">
                        <ProgressRing Style="{StaticResource WEXProgressRingStyle3}"
                                      IsActive="{x:Bind ViewModel.IsTotalDiagnosingComplete, Mode=OneWay,
                                                 Converter={StaticResource wexpertFileConverter}, ConverterParameter='TotalDiagnosingProgress'}"/>

                        <Image Source="ms-appx:///Assets/Images/LineCheckGray.png"
                               Width="24"
                               Height="24"
                               Visibility="{x:Bind ViewModel.IsTotalDiagnosingComplete, Mode=OneWay,
                                            Converter={StaticResource wexpertFileConverter}, ConverterParameter='TotalDiagnosingComplete'}"/>
                    </Grid>

                    <TextBlock Style="{StaticResource AVLocalTextBlockStyle13}"
                                Text="{x:Bind ViewModel.TotalResultString, Mode=OneWay}"/>
                    <TextBlock Style="{StaticResource AVLocalTextBlockStyle18}"
                                Text="{x:Bind ViewModel.TotalResultFailString, Mode=OneWay}"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal"
                            Margin="0,0,20,0"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Right">

                    <!-- ReAnalysis Button -->
                    <Button Style="{StaticResource AVLocalButtonStyle4}"                           
                            IsEnabled="{x:Bind ViewModel.IsTotalDiagnosingComplete, Mode=OneWay}"
                            Command="{x:Bind ViewModel.ReAnalysisFileCommand}">
                        <StackPanel Orientation="Horizontal">
                            <Image Source="ms-appx:///Assets/images/Refresh2.png"
                               Style="{StaticResource AVLocalImageStyle1}"/>
                            
                            <Rectangle Width="10"/>

                            <TextBlock x:Uid="CtlReAnalysis"
                                       FontSize="13"
                                       FontFamily="{StaticResource DefaultFont}"
                                       VerticalAlignment="Center"/>
                        </StackPanel>                        
                    </Button>

                    <Rectangle Width="8"/>

                    <!-- Delete Button -->
                    <Button Style="{StaticResource AVLocalButtonStyle5}"
                            IsEnabled="{x:Bind ViewModel.IsTotalDiagnosingComplete, Mode=OneWay}"
                            Command="{x:Bind ViewModel.DeleteFileCommand}">

                        <StackPanel Orientation="Horizontal">
                            <Image Source="ms-appx:///Assets/images/DeleteButtonYellow2.png"
                               Style="{StaticResource AVLocalImageStyle1}"/>

                            <Rectangle Width="10"/>

                            <TextBlock x:Uid="CtlDelete"
                                       FontSize="13"
                                       FontFamily="{StaticResource DefaultFont}"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                    
                </StackPanel>                
            </Grid>

            <Grid Grid.Row="1" Background="{StaticResource SolidDkSolid}"/>

            <!-- 등록된 초음파 사진 목록 -->
            <Grid Grid.Row="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="17"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <ScrollViewer x:Name="FileListScrollViewer"
                              Grid.Column="1"
                              HorizontalScrollBarVisibility="Auto"                              
                              HorizontalScrollMode="Auto"
                              VerticalScrollBarVisibility="Disabled"
                              ZoomMode="Disabled">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <GridView x:Name="FileListGridView" Grid.Column="0"
                                  ItemsSource="{x:Bind ViewModel.UltrasoundFiles, Mode=OneWay}"
                                  CanReorderItems="True"
                                  AllowDrop="True"
                                  SelectedItem="{x:Bind ViewModel.SelectedUltrasoundFile, Mode=TwoWay}"                                  
                                  DragEnter="FileList_DragEnter"
                                  DragOver="FileList_DragOver"
                                  VerticalAlignment="Center"
                                  Drop="FileList_Drop"
                                  PointerWheelChanged="FileListGridView_PointerWheelChanged"
                                  SelectionChanged="FileListGridView_SelectionChanged">

                            <GridView.ItemContainerStyle>
                                <Style TargetType="GridViewItem"
                                        BasedOn="{StaticResource WEXBaseGridViewItemStyle3}">
                                    <Setter Property="Margin" Value="3,8,3,2"/>
                                </Style>
                            </GridView.ItemContainerStyle>
                            <ItemsPanelTemplate>
                                <ItemsWrapGrid Orientation="Horizontal"/>
                            </ItemsPanelTemplate>
                            <GridView.ItemTemplate>
                                <DataTemplate>
                                    <Grid Width="108"
                                            Height="78"
                                            Background="{StaticResource ComponentsBlack}">

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="34"/>
                                            <!-- Header -->
                                            <RowDefinition Height="*"/>
                                            <!-- Body -->
                                            <RowDefinition Height="34"/>
                                            <!-- Footer -->
                                        </Grid.RowDefinitions>

                                        <!-- Ultrasound thumbnail image -->
                                        <Grid Grid.RowSpan="3">
                                            <Image Source="{Binding ImageUrl, Mode=OneWay, TargetNullValue={x:Null}}"
                                                    ImageFailed="Thumbnail_ImageFailed"
                                                    ImageOpened="Thumbnail_ImageOpened">
                                                <ToolTipService.ToolTip>
                                                    <ToolTip>
                                                        <!-- tooltip 을 바로 실행 시키지 않고 필요 시점에 동적 로딩하도록 처리(바로 실행시 이미지 정보를 읽어 올수 없음)  -->
                                                        <ToolTip.ContentTemplate>
                                                            <DataTemplate>
                                                                <!-- TODO 추후 ConverterParameter='FilesTooltip' 사용 하도록 수정 필요 -->
                                                                <!-- <TextBlock Text="{Binding FileName, Converter={StaticResource wexpertFileConverter}, ConverterParameter='FilesTooltip'}"/> -->
                                                                <TextBlock Text="{Binding FileName, Mode=OneWay}"/>
                                                            </DataTemplate>
                                                        </ToolTip.ContentTemplate>
                                                    </ToolTip>
                                                </ToolTipService.ToolTip>
                                            </Image>
                                        </Grid>

                                        <!-- Progress Ring -->
                                        <Grid Grid.RowSpan="3">
                                            <!-- 이미지 로딩 Progress -->
                                            <ProgressRing IsActive="{Binding ThumbnailLoading, Mode=OneWay}"
                                                        Style="{StaticResource WEXProgressRingStyle1}"/>
                                        </Grid>

                                        <!-- Header -->
                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="34"/>
                                                <!-- 분석 상태 -->
                                                <ColumnDefinition Width="*"/>
                                                <!-- 가변 -->
                                            </Grid.ColumnDefinitions>

                                            <!-- 분석 상태 -->
                                            <Grid Grid.Column="0">
                                                <!-- 분석중/분석성공/분석실패 -->
                                                <Image Source="{Binding AnalysisStatus, Mode=OneWay,
                                                                Converter={StaticResource wexpertFileConverter},
                                                                ConverterParameter='AnalysisStatusIcon',
                                                                TargetNullValue={x:Null}}"
                                                        Width="24"
                                                        Height="24"
                                                        Margin="5"
                                                        HorizontalAlignment="Left"
                                                        VerticalAlignment="Top"
                                                        ToolTipService.ToolTip="{Binding AnalysisStatus, Mode=OneWay,
                                                                                    Converter={StaticResource wexpertFileConverter},
                                                                                    ConverterParameter='AnalysisStatusTooltip'}" />
                                            </Grid>
                                        </Grid>

                                        <!-- Body -->
                                        <Grid Grid.Row="1">
                                        </Grid>

                                        <!-- Footer -->
                                        <Grid Grid.Row="2">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="5"/>
                                                <ColumnDefinition Width="Auto"/>
                                                <!-- Triage(Rupture) -->
                                                <ColumnDefinition Width="Auto"/>
                                                <!-- Triage(TC) -->
                                                <ColumnDefinition Width="*"/>
                                                <!-- 가변 -->
                                                <ColumnDefinition Width="10"/>
                                            </Grid.ColumnDefinitions>

                                            <!-- Triage(Rupture) -->
                                            <Grid Grid.Column="1">
                                                <Image Source="ms-appx:///Assets/images/TriageRuptureDot.png"
                                                        Width="14"
                                                        Height="14"
                                                        Margin="5,0,0,0"
                                                        Visibility="{Binding VisibilityRuptureTriage, Mode=OneWay}">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip x:Uid="CtlRuptureDotTooltip" />
                                                    </ToolTipService.ToolTip>
                                                </Image>
                                            </Grid>

                                            <!-- Triage(TC) -->
                                            <Grid Grid.Column="2">
                                                <Image Source="ms-appx:///Assets/images/TriageTCDot.png"
                                                        Width="14"
                                                        Height="14"
                                                        Margin="5,0,0,0"
                                                        Visibility="{Binding VisibilityTCTriage, Mode=OneWay}">
                                                    <ToolTipService.ToolTip>
                                                        <ToolTip x:Uid="CtlTCDotTooltip" />
                                                    </ToolTipService.ToolTip>
                                                </Image>
                                            </Grid>

                                            <!-- Consultation  -->
                                            <Grid Grid.Column="3">
                                                <Image Width="15"
                                                        Height="15"
                                                        HorizontalAlignment="Right"
                                                        Visibility="{Binding ConsultationQuestion,
                                                                    Converter={StaticResource wexpertFileConverter}, ConverterParameter='ViewQuestionIcon'}"
                                                        Source="{Binding IsExistNewConsultationAnswer,
                                                                    Converter={StaticResource wexpertFileConverter}, ConverterParameter='QuestionIconSource',
                                                                    TargetNullValue={x:Null}}"/>
                                            </Grid>
                                        </Grid>
                                    </Grid>
                                </DataTemplate>
                            </GridView.ItemTemplate>
                        </GridView>

                        <!-- Add new file -->
                        <Grid Grid.Column="1"
                              Width="108"
                              Height="78"
                              CornerRadius="6"
                              HorizontalAlignment="Left"
                              VerticalAlignment="Stretch"
                              Margin="3,0,3,4"
                              Visibility="{x:Bind ViewModel.IsShowFileListHorizontalScrollBar, Mode=OneWay,
                                            Converter={StaticResource commonConverter},
                                            ConverterParameter='InverseBoolVisibility'}">

                            <Rectangle Stroke="{StaticResource SolidDkSolid}"
                                    StrokeThickness="1"
                                    StrokeDashArray="4,4"
                                    RadiusX="6"
                                    RadiusY="6" />

                            <Button Style="{StaticResource AVLocalButtonStyle13}"
                                    Command="{x:Bind ViewModel.AddNewFileCommand}">
                                <Image Source="ms-appx:///Assets/images/PlusCircle.png"
                                   Width="32"
                                   Height="32"/>
                                <ToolTipService.ToolTip>
                                    <ToolTip x:Uid="CtlAddNewFile" />
                                </ToolTipService.ToolTip>                                
                            </Button>                            
                        </Grid>
                    </Grid>                    
                </ScrollViewer>

                <!-- 파일 목록 오른쪽 고정된 버전 -->
                <Grid Grid.Column="2"
                        Width="108"
                        Height="78"
                        CornerRadius="6"
                        Margin="6,0,20,4"
                        Visibility="{x:Bind ViewModel.IsShowFileListHorizontalScrollBar, Mode=OneWay,
                                      Converter={StaticResource commonConverter},
                                      ConverterParameter='BoolVisibility'}">

                    <Rectangle Stroke="{StaticResource SolidDkSolid}"
                                StrokeThickness="1"
                                StrokeDashArray="4,4"
                                RadiusX="6"
                                RadiusY="6" />

                    <Button Style="{StaticResource AVLocalButtonStyle13}"
                                Command="{x:Bind ViewModel.AddNewFileCommand}">
                        <Image Source="ms-appx:///Assets/images/PlusCircle.png"
                                Width="32"
                                Height="32"/>
                        <ToolTipService.ToolTip>
                            <ToolTip x:Uid="CtlAddNewFile" />
                        </ToolTipService.ToolTip>
                    </Button>
                </Grid>

            </Grid>
        </Grid>
        <!-- #endregion -->

        <!-- #region Multi Selection Mode(재분석, 삭제)  -->
        <Popup IsLightDismissEnabled="False"
               Opened="MultiSelectionPopup_Opened"
               Closed="MultiSelectionPopup_Closed"
               IsOpen="{x:Bind ViewModel.IsOpenMultiSelectPopup, Mode=OneWay}">
            <Grid Width="{x:Bind ViewModel.ContentAreaWidth, Mode=OneWay}"
                  Height="{x:Bind ViewModel.ContentAreaHeight, Mode=OneWay}">

                <!-- 반투명 오버레이 -->
                <Grid Background="{ThemeResource ContentDialogSmokeFill}"
                      PointerReleased="MultiSelectDimArea_PointerReleased"/>

                <!-- 하단 고정 창 -->
                <Grid x:Name="MultiSelectListGrid"
                      VerticalAlignment="Bottom"
                      Height="172"
                      Background="#27292C">

                    <Grid.RenderTransform>
                        <!-- Y 축 이동을 위한 Transform -->
                        <TranslateTransform x:Name="MultiSelectListGridTransform" Y="300"/>
                    </Grid.RenderTransform>

                    <Grid.RowDefinitions>
                        <RowDefinition Height="58"/>
                        <RowDefinition Height= "1"/>
                        <RowDefinition Height="114"/>
                    </Grid.RowDefinitions>

                    <!-- 상단 정보들(현재 모드명, Selected all, selected count, ok/cancel button -->
                    <Grid Grid.Row="0">
                        <StackPanel Margin="18,0,0,0"
                            Orientation="Horizontal"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Left">

                            <Image Source="{x:Bind ViewModel.CurrentMultiSelectionType, Mode=OneWay,    
                                            Converter={StaticResource wexpertAnalysisViewerConverter},
                                            ConverterParameter='MultiSelectionTitleImage',
                                            TargetNullValue={x:Null}}"
                                   Width="24"
                                   Height="24"/>

                            <TextBlock Style="{StaticResource AVLocalTextBlockStyle13}"
                                       Foreground="{x:Bind ViewModel.CurrentMultiSelectionType, Mode=OneWay,    
                                              Converter={StaticResource wexpertAnalysisViewerConverter},
                                              ConverterParameter='MultiSelectionForegroundColor'}"
                                       Text="{x:Bind ViewModel.CurrentMultiSelectionType, Mode=OneWay,    
                                              Converter={StaticResource wexpertAnalysisViewerConverter},
                                              ConverterParameter='MultiSelectionTitleText'}"/>

                            <Rectangle Width="10"/>

                            <TextBlock Text="{x:Bind ViewModel.MultiSelectionStatusText, Mode=OneWay}"
                                       Style="{StaticResource AVLocalTextBlockStyle16}"/>

                        </StackPanel>

                        <StackPanel Orientation="Horizontal"
                                    Margin="0,0,20,0"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Right">
                            
                            <CheckBox x:Uid="CtlSelectAll"
                                      Style="{StaticResource AnalysisViewerPageCheckBoxStyle1}"
                                      IsChecked="{x:Bind ViewModel.CheckAllMultiSelection, Mode=TwoWay}"
                                      Click="MultiSelectionCheckAll_Click"/>

                            <Rectangle Width="20"/>
                            
                            <Grid>
                                <Button x:Uid="CtlOk"
                                        IsEnabled="{x:Bind ViewModel.EnableMultiSelectionTaskOKButton, Mode=OneWay}"                                        
                                        Style="{StaticResource AVLocalButtonStyle8}"
                                        Command="{x:Bind ViewModel.MultiSelectionPopupOKCommand}"
                                        CommandParameter="{x:Bind MultiSelectGridView.SelectedItems}"/>

                                <ProgressRing IsActive="{x:Bind ViewModel.MultiSelectionTaskProcessing, Mode=OneWay}"
                                              VerticalAlignment="Center"
                                              HorizontalAlignment="Center"
                                              Style="{StaticResource WEXProgressRingStyle1}"/>
                            </Grid>

                            <Rectangle Width="10"/>

                            <Button x:Uid="CtlCancel"
                                    Style="{StaticResource AVLocalButtonStyle9}"
                                    Command="{x:Bind ViewModel.MultiSelectionPopupCancelCommand}"/>
                        </StackPanel>
                    </Grid>

                    <Grid Grid.Row="1" Background="#4C6C7489"/>

                    <!-- 초음파 사진 목록 -->
                    <Grid Grid.Row="2">
                        <ScrollViewer x:Name="FileListScrollViewMultiSelect"
                                      HorizontalScrollBarVisibility="Auto"
                                      Margin="17,0,17,0"
                                      HorizontalScrollMode="Auto"
                                      VerticalScrollBarVisibility="Disabled"
                                      ZoomMode="Disabled">
                            <GridView x:Name="MultiSelectGridView" 
                                      ItemsSource="{x:Bind ViewModel.UltrasoundFiles, Mode=OneWay}"
                                      CanReorderItems="False"
                                      AllowDrop="False"
                                      SelectionMode="Multiple"
                                      IsMultiSelectCheckBoxEnabled="False"
                                      VerticalAlignment="Center"
                                      PointerWheelChanged="FileListScrollViewMultiSelect_PointerWheelChanged">
                                <ItemsPanelTemplate>
                                    <ItemsWrapGrid Orientation="Horizontal"/>
                                </ItemsPanelTemplate>
                                <i:Interaction.Behaviors>
                                    <Core:EventTriggerBehavior EventName="SelectionChanged">
                                        <Core:InvokeCommandAction Command="{x:Bind ViewModel.MultiSelectGridSelectionChangedCommand}"
                                                                  CommandParameter="{x:Bind MultiSelectGridView.SelectedItems}"/>
                                    </Core:EventTriggerBehavior>
                                </i:Interaction.Behaviors>
                                <GridView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid Width="108"
                                              Height="78"
                                              CornerRadius="3"
                                              PointerEntered="MultiSelectGrid_PointerEntered"
                                              PointerExited="MultiSelectGrid_PointerExited"
                                              Background="{StaticResource ComponentsBlack}">

                                            <!-- Flyout 트리거를 위한 PointerEntered/Exited 이벤트 처리 -->
                                            <Grid.ContextFlyout>
                                                <Flyout x:Name="PreviewFlyout"
                                                        Placement="Top"
                                                        ShowMode="TransientWithDismissOnPointerMoveAway">
                                                    <Flyout.FlyoutPresenterStyle>
                                                        <Style TargetType="FlyoutPresenter">
                                                            <Setter Property="Padding" Value="16"/>
                                                            <Setter Property="Margin" Value="0,-10,0,0"/>
                                                            <Setter Property="BorderThickness" Value="1"/>
                                                            <Setter Property="BorderBrush" Value="#3E4246"/>
                                                            <Setter Property="CornerRadius" Value="6"/>
                                                        </Style>
                                                    </Flyout.FlyoutPresenterStyle>
                                                    <StackPanel Width="278" Height="284">

                                                        <Grid Width="280" Height="178" CornerRadius="6" Background="{StaticResource ComponentsBlack}">
                                                            <Image Source="{Binding ImageUrl, Mode=OneWay, TargetNullValue={x:Null}}"
                                                                   ImageFailed="Thumbnail_ImageFailed"
                                                                   ImageOpened="Thumbnail_ImageOpened"/>
                                                        </Grid>

                                                        <Rectangle Height="12"/>

                                                        <Grid Width="280" Height="94" CornerRadius="6" Padding="8" Background="#1F69727B">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition/>
                                                                <RowDefinition/>
                                                                <RowDefinition/>
                                                            </Grid.RowDefinitions>

                                                            <Grid Grid.Row="0">
                                                                <TextBlock Style="{StaticResource AVLocalTextBlockStyle17}">
                                                                    <Run x:Uid="CtlAnalysis"/>
                                                                    <Run Text=" "/>
                                                                    <Run Text="{Binding AnalysisStatus, Mode=OneWay,
                                                                                Converter={StaticResource wexpertFileConverter},
                                                                                ConverterParameter='AnalysisStatusText'}"
                                                                         Foreground="{StaticResource ComponentsLtWhite}"/>
                                                                </TextBlock>
                                                            </Grid>

                                                            <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left">
                                                                <TextBlock x:Uid="CtlTriage" 
                                                                        Style="{StaticResource AVLocalTextBlockStyle17}"/>

                                                                <Rectangle Width="10"/>

                                                                <!-- Rupture Triage -->
                                                                <Grid Height="22" Margin="0,0,3,0" Visibility="{Binding VisibilityRuptureTriage, Mode=OneWay}">
                                                                    <Image Source="ms-appx:///Assets/images/TriageRuptureDot.png" Width="14" Height="14"/>
                                                                </Grid>

                                                                <!-- TC Triage -->
                                                                <Grid Height="22" Visibility="{Binding VisibilityTCTriage, Mode=OneWay}">
                                                                    <Image Source="ms-appx:///Assets/images/TriageTCDot.png" Width="14" Height="14"/>
                                                                </Grid>

                                                                <TextBlock x:Uid="CtlNone"
                                                                            Visibility="{Binding ExistTriage, Mode=OneWay, Converter={StaticResource wexpertAnalysisViewerConverter}, ConverterParameter='NotExistTriage'}"
                                                                            Foreground="{StaticResource ComponentsLtWhite}"
                                                                            Style="{StaticResource AVLocalTextBlockStyle17}"/>
                                                            </StackPanel>

                                                            <Grid Grid.Row="2">
                                                                <TextBlock Style="{StaticResource AVLocalTextBlockStyle17}">
                                                                    <Run x:Uid="CtlConsultation"/>
                                                                    <Run Text=" "/>
                                                                    <Run Text="{Binding ConsultationStatus, Mode=OneWay}" Foreground="{StaticResource ComponentsLtWhite}"/>
                                                                </TextBlock>
                                                            </Grid>
                                                        </Grid>
                                                    </StackPanel>
                                                </Flyout>
                                            </Grid.ContextFlyout>

                                            <!-- Ultrasound thumbnail image -->
                                            <Image Source="{Binding ImageUrl, Mode=OneWay, TargetNullValue={x:Null}}"
                                                   ImageFailed="Thumbnail_ImageFailed"
                                                   ImageOpened="Thumbnail_ImageOpened"/>

                                            <Image Source="ms-appx:///Assets/Images/LineCheckGray2.png"
                                                   Width="24"
                                                   Height="24"/>
                                            
                                            <Image Source="{Binding MultiSelectionMode, Mode=OneWay,
                                                            Converter={StaticResource wexpertFileConverter},
                                                            ConverterParameter='MultiSelectionCheckImage',
                                                            TargetNullValue={x:Null}}"
                                                   Visibility="{Binding Check, Mode=OneWay,
                                                                Converter={StaticResource wexpertFileConverter},
                                                                ConverterParameter='ThumbnailCheck'}"
                                                   Width="24"
                                                   Height="24"/>                                              

                                        </Grid>
                                    </DataTemplate>
                                </GridView.ItemTemplate>
                            </GridView>
                        </ScrollViewer>
                    </Grid>

                </Grid>
            </Grid>
        </Popup>
        <!-- #endregion -->

        <!-- #region Report 출력을 위한 WebView2 Popup창 -->
        <Popup IsLightDismissEnabled="False"
               Opened="ReportPopup_Opened"
               Closed="ReportPopup_Closed"
               IsOpen="{x:Bind ViewModel.IsOpenReportPopup, Mode=OneWay}">
            
            <Grid Background="{ThemeResource ContentDialogSmokeFill}"
                  Width="{x:Bind ViewModel.ContentAreaWidth, Mode=OneWay}"
                  Height="{x:Bind ViewModel.ContentAreaHeight, Mode=OneWay}">

                <Grid Margin="70"
                      CornerRadius="6"
                      Background="{StaticResource BgBaseAlt}"
                      BorderBrush="{StaticResource SolidDkSolid}"
                      BorderThickness="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="100"/>
                        <RowDefinition/>
                        <RowDefinition Height="50"/>
                    </Grid.RowDefinitions>
                    
                    <Grid Grid.Row="0">
                        <TextBlock x:Uid="CtlExportAnalysisReport"
                                   Style="{StaticResource AVLocalTextBlockStyle7}"/>

                        <Button Margin="0,0,50,0" Style="{StaticResource DialogCloseButtonStyle1}"
                                Command="{x:Bind ViewModel.ReportPopupCloseCommand}">
                            <Image Style="{StaticResource DialogHeaderCloseButtonStyle1}"/>
                            <ToolTipService.ToolTip>
                                <ToolTip x:Uid="CtlCloseTooltip" />
                            </ToolTipService.ToolTip>
                        </Button>
                    </Grid>
                    
                    <Grid Grid.Row="1">                    
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="430"/>
                            <!-- <ColumnDefinition Width="35"/> -->
                        </Grid.ColumnDefinitions>

                        <Grid Grid.Column="0" Margin="50,0,50,0">
                            <WebView2 x:Name="ReportWebView"/>
                        </Grid>

                        <Grid Grid.Column="1">
                            <ScrollView Grid.ColumnSpan="2">
                                <StackPanel Orientation="Vertical" Margin="0,0,35,0">

                                    <TextBlock x:Uid="CtlReportGroup1"
                                               Style="{StaticResource AVLocalTextBlockStyle19}"/>

                                    <Rectangle Height="10"/>

                                    <StackPanel Orientation="Horizontal">
                                        <RadioButton x:Uid="CtlReportRadio1Btn"
                                                     Style="{StaticResource AVLocalRadioButtonStyle1}"
                                                     IsChecked="{x:Bind ViewModel.ReportOptionType, Mode=TwoWay,
                                                                 Converter={StaticResource wexpertAnalysisViewerConverter},
                                                                 ConverterParameter='ReportAll'}"
                                                     IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"/>
                                        <RadioButton x:Uid="CtlReportRadio2Btn"
                                                     Margin="20,0,0,0"
                                                     Style="{StaticResource AVLocalRadioButtonStyle1}"
                                                     IsChecked="{x:Bind ViewModel.ReportOptionType, Mode=TwoWay,
                                                                 Converter={StaticResource wexpertAnalysisViewerConverter},
                                                                 ConverterParameter='ReportOnlyPositive'}"
                                                     IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"/>
                                    </StackPanel>

                                    <Rectangle Height="1"
                                               Margin="0,10,0,10"
                                               Fill="{StaticResource SolidLtSolid}"/>

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="28"/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <FontIcon Grid.Column="0"
                                                  FontSize="16"
                                                  FontFamily="Segoe MDL2 Assets"
                                                  Glyph="&#xE946;"
                                                  VerticalAlignment="Top"
                                                  Margin="3,0,8,0"
                                                  Foreground="{StaticResource SolidLtSolid}"/>

                                        <TextBlock x:Uid="CtlReportDesc"
                                                   Grid.Column="1"
                                                   Style="{StaticResource AVLocalTextBlockStyle5}" />
                                    </Grid>

                                    <Rectangle Height="20" />

                                    <TextBlock x:Uid="CtlReportGroup2"
                                               Style="{StaticResource AVLocalTextBlockStyle19}"/>

                                    <Rectangle Height="10" />

                                    <TextBox Style="{StaticResource AVLocalTextBoxStyle2}"
                                             IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                             Text="{x:Bind ViewModel.ReportChartNo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    <Rectangle Height="20"/>

                                    <TextBlock x:Uid="CtlReportGroup3"
                                               Style="{StaticResource AVLocalTextBlockStyle19}"/>

                                    <Rectangle Height="10"/>

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="10" />
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="10" />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>

                                        <!--
                                        <ComboBox Grid.Column="0"
                                                  Style="{StaticResource AVLocalComboboxStyle1}"
                                                  ItemContainerStyle="{StaticResource AVLocalComboboxItemStyle1}"
                                                  ItemsSource="{x:Bind ViewModel.BirthYears, Mode=OneWay}"
                                                  SelectedItem="{x:Bind ViewModel.ReportBirthYear, Mode=TwoWay}"
                                                  IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                                  PlaceholderText="YYYY"/>
                                        -->

                                        <ComboBox Grid.Column="0"
                                                  Style="{StaticResource AVLocalComboboxStyle1}"
                                                  ItemsSource="{x:Bind ViewModel.BirthYears, Mode=OneWay}"
                                                  SelectedItem="{x:Bind ViewModel.ReportBirthYear, Mode=TwoWay}"
                                                  IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                                  PlaceholderText="YYYY"/>
                                        
                                        <Rectangle Width="5" />

                                        <ComboBox Grid.Column="2" x:Name="ReportBirthMonth"
                                                  Style="{StaticResource AVLocalComboboxStyle1}"
                                                  ItemsSource="{x:Bind ViewModel.BirthMonths, Mode=OneWay}"
                                                  SelectedItem="{x:Bind ViewModel.ReportBirthMonth, Mode=TwoWay}"
                                                  IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                                  PlaceholderText="MM" />

                                        <Rectangle Width="5" />

                                        <ComboBox Grid.Column="4" x:Name="ReportBirthDay"
                                                  Style="{StaticResource AVLocalComboboxStyle1}"
                                                  ItemsSource="{x:Bind ViewModel.BirthDays, Mode=OneWay}"
                                                  SelectedItem="{x:Bind ViewModel.ReportBirthDay, Mode=TwoWay}"
                                                  IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                                  PlaceholderText="DD" />
                                    </Grid>

                                    <Rectangle Height="25" />

                                    <Grid>
                                        <TextBlock x:Uid="CtlReportGroup4"
                                               HorizontalAlignment="Left"
                                               Style="{StaticResource AVLocalTextBlockStyle19}"/>

                                        <TextBlock Style="{StaticResource AVLocalTextBlockStyle20}">
                                            <Run Foreground="{x:Bind ViewModel.ReportAssessmentInputCount, Mode=OneWay,
                                                              Converter={StaticResource wexpertAnalysisViewerConverter},
                                                              ConverterParameter='ReportAssmentInputLengthColor'}"
                                                    Text="{x:Bind ViewModel.ReportAssessmentInputCount, Mode=OneWay}"/>
                                            <Run Foreground="{StaticResource SolidLtSolid}"
                                                 Text="/" />
                                            <Run Foreground="{StaticResource SolidLtSolid}"
                                                    Text="{x:Bind ViewModel.MaxReportAssessmentLength, Mode=OneWay}"/>
                                        </TextBlock>
                                    </Grid>

                                    <Rectangle Height="10" />

                                    <TextBox x:Uid="ReportTextBox"
                                             Style="{StaticResource AVLocalTextBoxStyle3}"
                                             MaxLength="{x:Bind ViewModel.MaxReportAssessmentLength ,Mode=OneWay}"
                                             IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                             Text="{x:Bind ViewModel.ReportAssessment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                                    <Rectangle Height="10" />

                                    <Button x:Uid="CtlOK"
                                            Style="{StaticResource AVLocalButtonStyle10}"
                                            IsEnabled="{x:Bind ViewModel.IsEnableApplyButton, Mode=OneWay}"
                                            Command="{x:Bind ViewModel.SaveReportInformationCommand}"
                                            CommandParameter="{Binding ElementName=ReportWebView}"/>

                                    <Rectangle Height="1"
                                               Margin="0,10,0,25"
                                               Fill="{StaticResource SolidLtSolid}"/>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition />
                                            <ColumnDefinition Width="8" />
                                            <ColumnDefinition />
                                        </Grid.ColumnDefinitions>

                                        <Button x:Uid="CtlExport"
                                                Grid.Column="0"
                                                VerticalAlignment="Bottom"
                                                Style="{StaticResource AVLocalButtonStyle10}"
                                                IsEnabled="{x:Bind ViewModel.IsEnableReportControl, Mode=OneWay}"
                                                Command="{x:Bind ViewModel.ExportReportCommand}"
                                                CommandParameter="{Binding ElementName=ReportWebView}" />

                                        <Button x:Uid="CtlClose"
                                                Grid.Column="2"                                            
                                                Style="{StaticResource AVLocalButtonStyle11}"
                                                Command="{x:Bind ViewModel.ReportPopupCloseCommand}"/>
                                    </Grid>

                                    <Rectangle Height="10" />

                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="28"/>
                                            <ColumnDefinition/>
                                        </Grid.ColumnDefinitions>
                                        <FontIcon Grid.Column="0"
                                                  FontSize="16"
                                                  FontFamily="Segoe MDL2 Assets"
                                                  Glyph="&#xE946;"
                                                  VerticalAlignment="Top"
                                                  Margin="3,0,8,0"
                                                  Foreground="{StaticResource SolidLtSolid}"/>

                                        <TextBlock x:Uid="CtlReportDesc2"
                                                   Grid.Column="1"
                                                   Style="{StaticResource AVLocalTextBlockStyle5}" />
                                    </Grid>

                                </StackPanel>
                            </ScrollView>
                        </Grid>

                        <ProgressRing Grid.Column="0"
                                      IsActive="{x:Bind ViewModel.IsActiveLoadingReportProgress, Mode=OneWay}"
                                      Style="{StaticResource WEXProgressRingStyle1}"/>
                    </Grid>
                </Grid>
                
            </Grid>

        </Popup>
        <!-- #endregion Report 출력을 위한 WebView2 -->
        
        <!-- #region HTTP request progress -->
        <uc:ProgressRingControl Grid.RowSpan="3"
                                IsActiveProgressRing="{x:Bind ViewModel.ActivePageProgressRing, Mode=OneWay}"
                                ProgressMessage="{x:Bind ViewModel.ActivePageProgressRingMessage, Mode=OneWay}"
                                VerticalAlignment="Stretch"
                                HorizontalAlignment="Stretch"/>
        <!-- #endregion -->
    </Grid>
</base:WEXBasePage>
    
