<base:WEXBasePage
	x:Class="WExpert.Views.PatientListPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:base="using:WExpert.Views.Base"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converter="using:WExpert.Binding.Converter"
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:media="using:Microsoft.Xaml.Interactions.Media"
    xmlns:i="using:Microsoft.Xaml.Interactivity"
    xmlns:behaviors="using:WExpert.Binding.Behavior"
    xmlns:animatedvisuals="using:ABI.Microsoft.UI.Xaml.Controls.AnimatedVisuals"
    xmlns:controls="using:CommunityToolkit.WinUI.UI.Controls" 
    xmlns:composition="using:Microsoft.UI.Composition"
	xmlns:helper="using:WExpert.Helpers"
    Loaded="Page_Loaded"
    Unloaded="Page_Unloaded"
    NavigationCacheMode="Enabled" 
    KeyboardAcceleratorPlacementMode="Hidden">

    <!-- NavigationCacheMode 는 Required 가 아닌 Enabled 로 설정(Required 로 할시 cache 초기화가 안됨) -->
    <base:WEXBasePage.Resources>
        <converter:WExpertPatientListConverter x:Key="wexpertPatientListConverter"/>
        <converter:CommonConverter x:Key="commonConverter"/>

        <!-- #region Toggle Button Style-->
        <Style x:Key="PatientListLocalToggleButtonStyle1" TargetType="ToggleButton"
               BasedOn="{StaticResource WEXBaseToggleButtonStyle2}">
            <Setter Property="FontFamily" Value="{StaticResource DefaultFont}"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="32"/>
            <Setter Property="CornerRadius" Value="15"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
            <Setter Property="Padding" Value="14,5,14,5"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="PatientListLocalToggleButtonStyle3" TargetType="ToggleButton"
               BasedOn="{StaticResource WEXBaseToggleButtonStyle4}">
            <Setter Property="FontFamily" Value="{StaticResource DefaultFont}"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="CornerRadius" Value="3"/>
            <Setter Property="Margin" Value="0,1,0,1"/>
            <Setter Property="Padding" Value="12,0,22,0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
        </Style>
        <!-- #endregion Toggle Button Style -->

        <!-- #region CheckBox Style-->
        <Style x:Key="PatientListLocalCheckBoxStyle2" TargetType="CheckBox"
               BasedOn="{StaticResource WEXBaseCheckBoxStyle1}">
            <Setter Property="CornerRadius" Value="2"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <!-- #endregion CheckBox Style -->

        <!-- #region TextBlock Style -->
        <Style x:Key="PatientListLocalTextBlockStyle3" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource WGrey50}"/>
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="5,0,0,0" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle4" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="45"/>
            <Setter Property="FontFamily" Value="{StaticResource GeistFont}"/>
            <Setter Property="LineHeight" Value="60"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle5" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtGrey}"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle6" TargetType="TextBlock"
                   BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="TextDecorations" Value="None" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtWhite}" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle7" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="MaxWidth" Value="150" />
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle8" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Margin" Value="0,0,0,0" />
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle9" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource ComponentsLtGrey}"/>
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Margin" Value="5,0,0,0" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle10" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle11" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle12" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle13" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{StaticResource WGrey900}" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle14" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle15" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Margin" Value="0,1,0,1"/>
            <Setter Property="Padding" Value="12,0,22,0"/>
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle16" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Normal" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle17" TargetType="TextBlock"
           BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="LineHeight" Value="24" />
            <Setter Property="Foreground" Value="{StaticResource SolidLtSolid}" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="HorizontalAlignment" Value="Center" />
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle18" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="16" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="PatientListLocalTextBlockStyle19" TargetType="TextBlock"
               BasedOn="{StaticResource TextBlockStyleBase}">
            <Setter Property="FontSize" Value="12" />
            <Setter Property="VerticalAlignment" Value="Center" />
            <Setter Property="LineHeight" Value="18" />
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
        </Style>
        <!-- #endregion TextBlock Style -->
        
        <!-- #region RichTextBlock Style -->
        <Style x:Key="PatientListLocalRichTextBlockStyle1" TargetType="RichTextBlock"
               BasedOn="{StaticResource RichTextBlockStyleBase}">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="LineHeight" Value="20" />
            <Setter Property="Margin" Value="0,0,5,0" />
            <Setter Property="MinHeight" Value="25"/>
        </Style>
        <!-- #endregion RichTextBlock Style -->
        
        <!-- #region TextBox Style -->
        <Style x:Key="PatientListLocalTextBoxStyle1" TargetType="TextBox"
               BasedOn="{StaticResource WEXLineTextBoxStyle1}">
            <Setter Property="Height" Value="44"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="10,10,10,10"/>
            <Setter Property="CornerRadius" Value="6"/>
        </Style>
        <!-- #endregion TextBox Style -->

        <!-- #region Button Style -->
        <Style x:Key="PatientListLocalButtonStyle1" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle4}">
            <Setter Property="Height" Value="40" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
        </Style>

        <Style x:Key="PatientListLocalButtonStyle2" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle2}">
            <Setter Property="Width" Value="44"/>
            <Setter Property="Height" Value="44" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="{StaticResource BgBase}" />
        </Style>

        <Style x:Key="PatientListLocalButtonStyle3" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Width" Value="30"/>
            <Setter Property="Height" Value="30" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Background" Value="Transparent" />
        </Style>

        <Style x:Key="PatientListLocalButtonStyle4" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle1}">
            <Setter Property="Height" Value="44"/>
            <Setter Property="Width" Value="158"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="20,5,20,5" />
            <Setter Property="BorderThickness" Value="0"/>
        </Style>

        <Style x:Key="PatientListLocalButtonStyle5" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle1}">
            <Setter Property="Width" Value="44"/>
            <Setter Property="Height" Value="44" />
            <Setter Property="CornerRadius" Value="6" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="BorderThickness" Value="0"/>
        </Style>

        <Style x:Key="PatientListLocalButtonStyle6" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="CornerRadius" Value="3" />
        </Style>

        <Style x:Key="PatientListLocalButtonStyle7" TargetType="Button"
           BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="32" />
            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="3" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Background" Value="Transparent" />
        </Style>

        <Style x:Key="PatientListLocalButtonStyle8" TargetType="Button"
               BasedOn="{StaticResource WEXSolidButtonStyle3}">
            <Setter Property="Width" Value="24" />
            <Setter Property="Height" Value="24" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="CornerRadius" Value="5" />
            <Setter Property="HorizontalAlignment" Value="Right"/>
            <Setter Property="Margin" Value="0"/>
        </Style>
        <!-- #endregion Button Style -->

        <!-- #region ListView Style -->
        <Style x:Key="PatientListPageListViewItemStyle1" TargetType="ListViewItem"
               BasedOn="{StaticResource WEXBaseListViewItemStyle1}">
            <Setter Property="FontFamily" Value="{StaticResource DefaultFont}" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="MinHeight" Value="0" />
        </Style>
        <!-- #endregion ListView Style -->
        
        <!-- #region Dropdown Style -->
        <!-- Dropdown Button Style(Sorting) -->
        <Style x:Key="PatientListLocalDropDownButtonStyle1" TargetType="DropDownButton"
               BasedOn="{StaticResource WEXBaseDropDownButtonStyle1}">
            <Setter Property="FontSize" Value="16"/>
            <!-- <Setter Property="Width" Value="152"/> -->
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextTertiary}"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>

        <!-- Dropdown Button(Row per page) -->
        <Style x:Key="PatientListLocalDropDownButtonStyle2" TargetType="DropDownButton"
               BasedOn="{StaticResource WEXBaseDropDownButtonStyle1}">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Margin" Value="10,0,0,0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>

        <!-- Dropdown Button(Profile) -->
        <Style x:Key="PatientListLocalDropDownButtonStyle3" TargetType="DropDownButton"
               BasedOn="{StaticResource WEXBaseDropDownButtonStyle1}">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="CornerRadius" Value="5"/>
            <Setter Property="Padding" Value="10,5,10,5"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>
        <!-- #endregion Dropdown Style -->
        
        <!--#region Flyout Style -->
        <Style x:Key="PatientListLocalFlyoutPresenterStyle1"
               TargetType="FlyoutPresenter">
            <Setter Property="ScrollViewer.HorizontalScrollMode" Value="Disabled"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
            <Setter Property="IsTabStop" Value="True"/>
            <Setter Property="TabNavigation" Value="Cycle"/>
            <Setter Property="Background" Value="{StaticResource BgBase}"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="16,12,16,12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource SolidDkSolid}"/>
            <Setter Property="Margin" Value="-10,0,0,0"/>
        </Style>
        <!-- #endregion Flyout Style -->
    </base:WEXBasePage.Resources>

    <!-- Ctrl + V 단축키 이벤트 처리 -->
    <!-- 참고 : Ctrl + V Tooltip 뜨는 이슈로 제거 위해 위 KeyboardAcceleratorPlacementMode="Hidden" 속성 사용 -->
    <base:WEXBasePage.KeyboardAccelerators>
        <KeyboardAccelerator Key="V" Modifiers="Control">
            <i:Interaction.Behaviors>
                <Core:EventTriggerBehavior EventName="Invoked">
                    <Core:InvokeCommandAction Command="{x:Bind ViewModel.PasteKeyDownCommand}" />
                </Core:EventTriggerBehavior>
            </i:Interaction.Behaviors>
        </KeyboardAccelerator>
    </base:WEXBasePage.KeyboardAccelerators>

    <Grid Background="{StaticResource BgBaseAlt}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="5*"/>
            <ColumnDefinition Width="90*"/>
            <ColumnDefinition Width="5*"/>
        </Grid.ColumnDefinitions>

        <Grid Grid.Column="1" Background="{StaticResource BgBaseAlt}">
            <Grid.RowDefinitions>
                <RowDefinition Height="145"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="20"/>
                <RowDefinition Height="1"/>
                <RowDefinition Height="88"/>
                <RowDefinition Height="*" />
                <RowDefinition Height="14"/>
                <RowDefinition Height="30"/>
                <RowDefinition Height="56" />
            </Grid.RowDefinitions>

            <!-- #region Title1(Title Text) -->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">
                    <TextBlock x:Uid="CtlPatientList"
                               Style="{StaticResource PatientListLocalTextBlockStyle4}"
                               VerticalAlignment="Center"/>
                </Grid>

                <Grid Grid.Column="1" MaxWidth="200" VerticalAlignment="Center">
                    <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle16}"
                               Text="{x:Bind ViewModel.HospitalName, Mode=OneWay,
                                        Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='HospitalName'}"/>
                </Grid>

                <Grid Grid.Column="2" Margin="10,0,0,0" VerticalAlignment="Center">
                    <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle17}" Text="|"/>
                </Grid>

                <Grid Grid.Column="3" MaxWidth="150" VerticalAlignment="Center">
                    <DropDownButton x:Name="AccountDropDown"
                                    Style="{StaticResource PatientListLocalDropDownButtonStyle3}">
                        <DropDownButton.Content>
                            <Grid>
                                <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle14}"
                                           Text="{x:Bind ViewModel.UserName, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='UserName'}"/>
                            </Grid>
                        </DropDownButton.Content>
                        <DropDownButton.Flyout>
                            <Flyout Placement="Bottom">
                                <Flyout.FlyoutPresenterStyle>
                                    <Style TargetType="FlyoutPresenter">
                                        <Setter Property="Background" Value="{StaticResource BgBase}"/>
                                        <Setter Property="CornerRadius" Value="5"/>
                                        <Setter Property="Padding" Value="0"/>
                                        <Setter Property="MinWidth" Value="174"/>
                                        <Setter Property="MaxWidth" Value="174"/>
                                    </Style>
                                </Flyout.FlyoutPresenterStyle>

                                <StackPanel>
                                    <!-- 메뉴 아이템 -->
                                    <Button Style="{StaticResource PatientListLocalButtonStyle1}"
                                            Click="AccountMenu_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <BitmapIcon Width="18"
                                                        Height="18"
                                                        UriSource="ms-appx:///Assets/Images/Profile.png"/>
                                            <TextBlock x:Uid="CtlAccount" Margin="12,0,0,0"/>
                                        </StackPanel>
                                    </Button>

                                    <Button Style="{StaticResource PatientListLocalButtonStyle1}"
                                                           Click="AboutMenu_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <BitmapIcon Width="18"
                                                        Height="18"
                                                        UriSource="ms-appx:///Assets/Images/DangerCircle.png"/>
                                            <TextBlock x:Uid="CtlAboutProgram" Margin="12,0,0,0"/>
                                        </StackPanel>
                                    </Button>

                                    <MenuFlyoutSeparator Background="{StaticResource SolidDkSolid}" />

                                    <Button Style="{StaticResource PatientListLocalButtonStyle1}"
                                                           Click="LogoutMenu_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <BitmapIcon Width="18"
                                                        Height="18"
                                                        UriSource="ms-appx:///Assets/Images/Logout.png"/>
                                            <TextBlock x:Uid="CtlSignout" Margin="12,0,0,0"/>
                                        </StackPanel>
                                    </Button>

                                </StackPanel>
                            </Flyout>
                        </DropDownButton.Flyout>
                    </DropDownButton>
                </Grid>
            </Grid>
            <!-- #endregion -->

            <!-- #region Title2(Search, Remove/Add Button) -->
            <Grid Grid.Row="1" VerticalAlignment="Top">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="304"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Grid Grid.Column="0">
                    <TextBox x:Uid="CtlSearchTextBoxHint"
                             Text="{x:Bind ViewModel.SearchTextBox, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                             KeyDown="SearchTextBox_KeyDown"
                             Style="{StaticResource PatientListLocalTextBoxStyle1}"/>
                </Grid>

                <Grid Grid.Column="2" Margin="14,0,0,0">
                    <Button Style="{StaticResource PatientListLocalButtonStyle5}"
                            Command="{x:Bind  ViewModel.RefreshCommand}">
                        <Image Width="18"
                               Height="18"
                               Source="ms-appx:///Assets/Images/SearchButton.png"/>
                        <ToolTipService.ToolTip>
                            <ToolTip x:Uid="CtlSearchButtonTooltip" />
                        </ToolTipService.ToolTip>
                    </Button>
                </Grid>

                <Grid Grid.Column="4" >
                    <Button Style="{StaticResource PatientListLocalButtonStyle4}"
                            Command="{x:Bind  ViewModel.NewRegistrationCommand}">
                        <StackPanel Orientation="Horizontal">
                            <FontIcon FontSize="14"
                                      FontFamily="Segoe MDL2 Assets"
                                      Glyph="&#xE710;"
                                      Margin="0,0,10,0"/>
                            <TextBlock x:Uid="CtlAddPatient"
                                       FontSize="14"
                                       FontFamily="{StaticResource DefaultFont}"
                                       VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button>
                </Grid>

                <Grid Grid.Column="5" Margin="14,0,0,0">
                    <Button Style="{StaticResource PatientListLocalButtonStyle2}" 
                            IsEnabled="{x:Bind ViewModel.EnableDeleteBtn, Mode=OneWay}"
                            Command="{x:Bind ViewModel.DeletePatientsCommand}">
                        <Image Width="24"
                               Height="24"
                               Source="ms-appx:///Assets/Images/DeleteButton.png"/>
                        <ToolTipService.ToolTip>
                            <ToolTip>
                                <TextBlock x:Uid="CtlDeletePatient" />
                            </ToolTip>
                        </ToolTipService.ToolTip>
                    </Button>
                </Grid>
            </Grid>
            <!-- #endregion -->

            <!-- #region splitter -->
            <Grid Grid.Row="3">
                <Rectangle Height="1"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Stretch"
                           Fill="{StaticResource SolidDkSolid}"/>
            </Grid>
            <!-- #endregion -->

            <!-- #region Title4(Filter, Delete button) -->
            <Grid Grid.Row="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="40"/>
                    <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정)
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="40"/>
                    -->
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Triage Filter -->
                <StackPanel Grid.Column="0"
                            Orientation="Horizontal"
                            VerticalAlignment="Center">

                    <TextBlock x:Uid="CtlTriage"
                               Style="{StaticResource PatientListLocalTextBlockStyle8}"/>

                    <ToggleButton x:Name="TriageFilterRupture"
                                  x:Uid="CtlRupture"
                                  IsChecked="{x:Bind ViewModel.IsTriageFilterRuptureCheck, Mode=TwoWay}"
                                  Checked="TriageFilter_CheckedUnchecked"
                                  Unchecked="TriageFilter_CheckedUnchecked"
                                  Style="{StaticResource PatientListLocalToggleButtonStyle1}"/>

                    <ToggleButton x:Name="TriageFilterTC"
                                  x:Uid="CtlTC"
                                  IsChecked="{x:Bind ViewModel.IsTriageFilterTCCheck, Mode=TwoWay}"
                                  Checked="TriageFilter_CheckedUnchecked"
                                  Unchecked="TriageFilter_CheckedUnchecked"
                                  Style="{StaticResource PatientListLocalToggleButtonStyle1}"/>

                    <ToggleButton x:Name="TriageFilterNormal"
                                  x:Uid="CtlNormal"
                                  IsChecked="{x:Bind ViewModel.IsTriageFilterNormalCheck, Mode=TwoWay}"
                                  Checked="TriageFilter_CheckedUnchecked"
                                  Unchecked="TriageFilter_CheckedUnchecked"
                                  Style="{StaticResource PatientListLocalToggleButtonStyle1}"/>
                </StackPanel>

                <!-- Splitter -->
                <Grid Grid.Column="1">
                    <Rectangle Width="1"
                               Height="18"
                               Fill="{StaticResource SolidDkSolid}"/>
                </Grid>

                <!-- Patient Type Filter -->
                <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정)
                <StackPanel Grid.Column="2"
                            Orientation="Horizontal"
                            VerticalAlignment="Center">

                    <TextBlock x:Uid="CtlType"
                               Style="{StaticResource PatientListLocalTextBlockStyle8}"/>

                    <ToggleButton x:Name="TypeFilterAesthetic"
                                  x:Uid="CtlAesthetic"
                                  IsChecked="{x:Bind ViewModel.IsTypeFilterAestheticCheck, Mode=TwoWay}"
                                  Checked="TypeFilter_CheckedUnchecked"
                                  Unchecked="TypeFilter_CheckedUnchecked"
                                  Style="{StaticResource PatientListLocalToggleButtonStyle1}"/>

                    <ToggleButton x:Name="TypeFilterReconstructive"
                                  x:Uid="CtlReconstructive"
                                  IsChecked="{x:Bind ViewModel.IsTypeFilterReconstructiveCheck, Mode=TwoWay}"
                                  Checked="TypeFilter_CheckedUnchecked"
                                  Unchecked="TypeFilter_CheckedUnchecked"
                                  Style="{StaticResource PatientListLocalToggleButtonStyle1}"/>

                    <ToggleButton x:Name="TypeFilterBoth"
                                  x:Uid="CtlBoth"
                                  IsChecked="{x:Bind ViewModel.IsTypeFilterBothCheck, Mode=TwoWay}"
                                  Checked="TypeFilter_CheckedUnchecked"
                                  Unchecked="TypeFilter_CheckedUnchecked"
                                  Style="{StaticResource PatientListLocalToggleButtonStyle1}"/>
                </StackPanel>
                -->
                
                <!-- Splitter -->
                <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정)
                <Grid Grid.Column="3">
                    <Rectangle Width="1"
                               Height="18"
                               Fill="{StaticResource SolidDkSolid}"/>
                </Grid>
                -->
                
                <!-- Consultation New Answers Filter -->
                <StackPanel Grid.Column="2"
                            Orientation="Horizontal"
                            VerticalAlignment="Center">

                    <TextBlock x:Uid="CtlConsultation"
                               Style="{StaticResource PatientListLocalTextBlockStyle8}"/>

                    <StackPanel Orientation="Horizontal">
                        <ToggleButton x:Uid="CtlNewAnswers"
                                      IsChecked="{x:Bind ViewModel.IsNewAnswerFilterCheck, Mode=TwoWay}"
                                      Style="{StaticResource PatientListLocalToggleButtonStyle1}"
                                      Checked="NewAnswerFilter_CheckedUnchecked"                                      
                                      Unchecked="NewAnswerFilter_CheckedUnchecked"/>

                        <Ellipse x:Name="NewConsultationAnswerDot"
                                 Width="11"
                                 Height="11"
                                 Margin="-20,-5,0,0"
                                 Opacity="{x:Bind ViewModel.TotalNewAnswerCount, Mode=OneWay,
                                                 Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='TotalNewAnswerCount'}"                                 
                                 VerticalAlignment="Top"
                                 Fill="{StaticResource ComponentsLtGreen}">
                            <Ellipse.Resources>
                                <ResourceDictionary>
                                    <Storyboard x:Name="BlinkingAnimation"
                                                RepeatBehavior="Forever">
                                        <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NewConsultationAnswerDot"
                                                   Storyboard.TargetProperty="Visibility">
                                            <!-- 처음에 Visible 상태 -->
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>

                                            <!-- 0.8초 후 Collapsed 상태 -->
                                            <DiscreteObjectKeyFrame KeyTime="0:0:0.8">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Collapsed</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>

                                            <!-- 1.6초 후 다시 Visible 상태 -->
                                            <DiscreteObjectKeyFrame KeyTime="0:0:1.6">
                                                <DiscreteObjectKeyFrame.Value>
                                                    <Visibility>Visible</Visibility>
                                                </DiscreteObjectKeyFrame.Value>
                                            </DiscreteObjectKeyFrame>
                                        </ObjectAnimationUsingKeyFrames>
                                    </Storyboard>
                                </ResourceDictionary>
                            </Ellipse.Resources>
                        </Ellipse>
                    </StackPanel>
                </StackPanel>

                <!-- Sorting Dropdown -->
                <Grid Grid.Column="4">
                    <DropDownButton x:Name="SortingDropDown"
                                    Style="{StaticResource PatientListLocalDropDownButtonStyle1}"
                                    Content="Sort">
                        <DropDownButton.Flyout>
                            <Flyout Placement="Bottom">
                                <Flyout.FlyoutPresenterStyle>
                                    <Style TargetType="FlyoutPresenter">
                                        <Setter Property="Background" Value="{StaticResource BgBaseAlt}"/>
                                        <Setter Property="CornerRadius" Value="6"/>
                                        <Setter Property="BorderThickness" Value="1"/>
                                        <Setter Property="BorderBrush" Value="{StaticResource SolidDkSolid}"/>
                                        <Setter Property="Padding" Value="0"/>
                                    </Style>
                                </Flyout.FlyoutPresenterStyle>

                                <Grid Width="Auto">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="40"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="1"/>
                                        <RowDefinition Height="40"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Menu Title -->
                                    <Grid Grid.Row="0">
                                        <TextBlock x:Uid="CtlSortBy"
                                                   Style="{StaticResource PatientListLocalTextBlockStyle15}"/>
                                    </Grid>

                                    <!-- 정렬 기준 선택 -->
                                    <StackPanel Grid.Row="1">
                                        <ToggleButton x:Uid="CtlTriageMenu"
                                                      Style="{StaticResource PatientListLocalToggleButtonStyle3}"
                                                      IsChecked="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingMenuFieldTriage'}"
                                                      Click="SortingMenuField_Click"
                                                      Tag="Triage"/>
                                        <ToggleButton x:Uid="CtlNameMenu"
                                                      Style="{StaticResource PatientListLocalToggleButtonStyle3}"
                                                      IsChecked="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingMenuFieldName'}"
                                                      Click="SortingMenuField_Click"
                                                      Tag="Name"/>
                                        <ToggleButton x:Uid="CtlDateCreatedMenu"
                                                      Style="{StaticResource PatientListLocalToggleButtonStyle3}"
                                                      IsChecked="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingMenuFieldDateCreated'}"
                                                      Click="SortingMenuField_Click"
                                                      Tag="DateCreated"/>
                                        <ToggleButton x:Uid="CtlAnalysisMenu"
                                                      Style="{StaticResource PatientListLocalToggleButtonStyle3}"
                                                      IsChecked="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingMenuFieldStatus'}"
                                                      Click="SortingMenuField_Click"
                                                      Tag="Analysis"/>
                                    </StackPanel>

                                    <!-- 구분선 -->
                                    <Rectangle Grid.Row="2" Height="1" Fill="{StaticResource SolidDkSolid}"/>

                                    <!-- Menu Title -->
                                    <Grid Grid.Row="3">
                                        <TextBlock x:Uid="CtlSortOrder"
                                                   Style="{StaticResource PatientListLocalTextBlockStyle15}"/>
                                    </Grid>

                                    <!-- 정렬 방향 선택 -->
                                    <StackPanel Grid.Row="4">
                                        <ToggleButton x:Uid="CtlAscendingMenu"
                                                      Style="{StaticResource PatientListLocalToggleButtonStyle3}"
                                                      IsChecked="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingMenuDirectionAsc'}"
                                                      Click="SortingMenuDirection_Click"
                                                      Tag="Asc"/>
                                        <ToggleButton x:Uid="CtlDescendingMenu"
                                                      Style="{StaticResource PatientListLocalToggleButtonStyle3}"
                                                      IsChecked="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingMenuDirectionDesc'}"
                                                      Click="SortingMenuDirection_Click"
                                                      Tag="Desc"/>
                                    </StackPanel>
                                </Grid>
                            </Flyout>
                        </DropDownButton.Flyout>
                    </DropDownButton>
                </Grid>
            </Grid>
            <!-- #endregion -->

            <!-- #region Listview -->
            <Grid Grid.Row="5">
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Listview header -->
                <Grid Grid.Row="0" Background="{StaticResource BgBase}" CornerRadius="6">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80"/>
                        <ColumnDefinition Width="1*" MinWidth="100"/>
                        <ColumnDefinition Width="0.5*" MinWidth="100"/>
                        <ColumnDefinition Width="1*" MinWidth="100"/>
                        <!-- <ColumnDefinition Width="1*"/> --> <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정) -->
                        <ColumnDefinition Width="0.5*" MinWidth="50"/>
                        <ColumnDefinition Width="1*" MinWidth="100"/>
                        <ColumnDefinition Width="1*" MinWidth="150"/>
                        <ColumnDefinition Width="1.2*" MinWidth="120"/>
                        <ColumnDefinition Width="1*" MinWidth="120"/>
                    </Grid.ColumnDefinitions>

                    <Grid Grid.Column="0">
                        <CheckBox IsChecked="{x:Bind ViewModel.CheckAll, Mode=TwoWay}"
                                  Click="PatientListCheckBox_Click"
                                  Style="{StaticResource PatientListLocalCheckBoxStyle2}"/>
                    </Grid>

                    <Grid Grid.Column="1" Margin="0,0,5,0">
                        <TextBlock x:Uid="CtlWExpertId"
                                   Style="{StaticResource PatientListLocalTextBlockStyle10}" />
                    </Grid>

                    <Grid Grid.Column="2" Margin="0,0,5,0">
                        <Button Style="{StaticResource PatientListLocalButtonStyle6}"
                                Click="PatientListHeader_Click"
                                Tag="Triage">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <TextBlock x:Uid="CtlTriage" 
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                                <TextBlock Text="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingTriage'}"
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <Grid Grid.Column="3" Margin="0,0,5,0">
                        <Button Style="{StaticResource PatientListLocalButtonStyle6}"
                                Click="PatientListHeader_Click"
                                Tag="Name">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <TextBlock x:Uid="CtlName" 
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                                <TextBlock Text="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingName'}"
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정)
                    <Grid Grid.Column="4" Margin="0,0,5,0">
                        <TextBlock x:Uid="CtlType"
                                   Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                    </Grid>
                    --> 
                    
                    <Grid Grid.Column="4" Margin="0,0,5,0">
                        <TextBlock x:Uid="CtlSourceFile"
                                   Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                    </Grid>

                    <Grid Grid.Column="5" Margin="0,0,5,0">
                        <TextBlock x:Uid="CtlConsultation"
                                   Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                    </Grid>

                    <Grid Grid.Column="6" Margin="0,0,5,0">
                        <Button Style="{StaticResource PatientListLocalButtonStyle6}"
                                Click="PatientListHeader_Click"
                                Tag="DateCreated">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <TextBlock x:Uid="CtlDateCreated" 
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                                <TextBlock Text="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingDateCreated'}"
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <Grid Grid.Column="7" Margin="10,0,0,0">
                        <Button Style="{StaticResource PatientListLocalButtonStyle6}"
                                Click="PatientListHeader_Click"
                                Tag="Analysis">
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <TextBlock x:Uid="CtlAnalysis" 
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                                <TextBlock Text="{x:Bind ViewModel.CurrentOrderingType, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='SortingStatus'}"
                                           Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                            </StackPanel>
                        </Button>
                    </Grid>

                    <Grid Grid.Column="8" Margin="0,0,5,0">
                        <TextBlock x:Uid="CtlNote"
                                   Style="{StaticResource PatientListLocalTextBlockStyle10}"/>
                    </Grid>
                </Grid>

                <Grid Grid.Row="1">
                    <ListView x:Name="PatientListView"
                              ItemsSource="{x:Bind ViewModel.PatientListSource, Mode=OneWay}"
                              SelectionMode="Extended"
                              SelectedIndex="{x:Bind ViewModel.PatientListSelectedIndex, Mode=TwoWay}"
                              ItemContainerStyle="{StaticResource PatientListPageListViewItemStyle1}"
                              ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                              ScrollViewer.HorizontalScrollMode="Disabled"
                              ScrollViewer.VerticalScrollBarVisibility="Auto"
                              ScrollViewer.VerticalScrollMode="Auto">

                        <i:Interaction.Behaviors>
                            <behaviors:PatientListRowDoubleTabBehavior Command="{x:Bind ViewModel.ListViewItemDoubleTabCommand}"/>
                            <behaviors:PatientListKeyBehavior Command="{x:Bind ViewModel.ListViewItemDoubleTabCommand}"/>

                            <Core:EventTriggerBehavior EventName="SelectionChanged">
                                <Core:InvokeCommandAction Command="{x:Bind ViewModel.PatientListSelectionChangedCommand}"
                                                                  CommandParameter="{x:Bind PatientListView.SelectedItems}"/>
                            </Core:EventTriggerBehavior>

                        </i:Interaction.Behaviors>

                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <StackPanel>
                                    <Grid Height="50">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="80"/>
                                            <ColumnDefinition Width="1*" MinWidth="100"/>
                                            <ColumnDefinition Width="0.5*" MinWidth="100"/>
                                            <ColumnDefinition Width="1*" MinWidth="100"/>
                                            <!--<ColumnDefinition Width="1*"/> --> <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정) -->
                                            <ColumnDefinition Width="0.5*" MinWidth="50"/>
                                            <ColumnDefinition Width="1*" MinWidth="100"/>
                                            <ColumnDefinition Width="1*" MinWidth="150"/>
                                            <ColumnDefinition Width="1.2*" MinWidth="120"/>
                                            <ColumnDefinition Width="1*" MinWidth="120"/>
                                        </Grid.ColumnDefinitions>

                                        <Grid Grid.Column="0">
                                            <CheckBox IsChecked="{Binding Check, Mode=TwoWay}"
                                                                     Tapped="ListItemCheckBox_Tapped"
                                                                     Style="{StaticResource PatientListLocalCheckBoxStyle2}"/>
                                        </Grid>

                                        <Grid Grid.Column="1" Margin="0,0,5,0">
                                            <TextBlock Text="{Binding WExpertId}"
                                                       Style="{StaticResource PatientListLocalTextBlockStyle11}"/>
                                        </Grid>

                                        <Grid Grid.Column="2" Margin="0,0,5,0">
                                            <StackPanel Orientation="Horizontal"
                                                HorizontalAlignment="Center">
                                                <Grid Height="22"
                                                      CornerRadius="10"
                                                      Padding="10,0,10,0"
                                                      Background="{StaticResource ComponentsRed}"
                                                      ToolTipService.ToolTip ="{Binding RuptureTriage, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='RuptureTriageTooltip'}"
                                                      Visibility="{Binding RuptureTriage, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='RuptureTriageIcon'}">
                                                    <TextBlock Text="R"
                                                               Style="{StaticResource PatientListLocalTextBlockStyle13}"/>
                                                </Grid>

                                                <Grid Height="22"
                                                      CornerRadius="10"
                                                      Margin="5,0,0,0"
                                                      Padding="10,0,10,0"
                                                      Background="{StaticResource ComponentsYellow}"
                                                      ToolTipService.ToolTip ="{Binding TCTriage, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='TCTriageTooltip'}"
                                                      Visibility="{Binding TCTriage, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='TCTriageIcon'}">
                                                    <TextBlock Text="TC"
                                                               Style="{StaticResource PatientListLocalTextBlockStyle13}"/>
                                                </Grid>

                                            </StackPanel>
                                        </Grid>

                                        <Grid Grid.Column="3" Margin="0,0,5,0">
                                            <TextBlock Text="{Binding Name}"
                                                       Style="{StaticResource PatientListLocalTextBlockStyle12}">
                                                <ToolTipService.ToolTip>
                                                    <ToolTip Content="{Binding Name,
                                                        Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='NameTooltip'}" />
                                                </ToolTipService.ToolTip>
                                            </TextBlock>
                                        </Grid>

                                        <!-- TODO. Type 항목은 임시 삭제(추후 버전 업시 추가 예정)
                                        <Grid Grid.Column="4" Margin="0,0,5,0">
                                            <TextBlock Text="{Binding PatientType, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='PatientType'}"
                                                       Style="{StaticResource PatientListLocalTextBlockStyle12}"/>
                                        </Grid>
                                        -->

                                        <Grid Grid.Column="4" Margin="0,0,5,0">
                                            <TextBlock Text="{Binding Files}"
                                                       Style="{StaticResource PatientListLocalTextBlockStyle12}"/>
                                        </Grid>

                                        <Grid Grid.Column="5" Margin="0,0,5,0"
                                              Visibility="{Binding ConsultQuestCount,
                                                           Converter={StaticResource wexpertPatientListConverter},
                                                           ConverterParameter='VisibilityConsultation'}">
                                            <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle12}">
                                                <Run Text="{Binding ConsultQuestCount,
                                                            Converter={StaticResource wexpertPatientListConverter},
                                                            ConverterParameter='ConsultationQuestionCount'}"/>
                                                <Run Text=" | "
                                                     Foreground="{StaticResource SolidLtSolid}"/>
                                                <Run Text="{Binding ConsultAnswerCount,
                                                            Converter={StaticResource wexpertPatientListConverter},
                                                            ConverterParameter='ConsultationAnswerCount'}"
                                                     Foreground="{Binding HasNewConsultAnswer,
                                                                  Converter={StaticResource wexpertPatientListConverter},
                                                                  ConverterParameter='ConsultationAnswerForeground'}"
                                                     FontWeight="{Binding HasNewConsultAnswer,
                                                                  Converter={StaticResource wexpertPatientListConverter},
                                                                  ConverterParameter='ConsultationAnswerFontWeight'}"/>
                                            </TextBlock>
                                        </Grid>

                                        <Grid Grid.Column="6" Margin="0,0,5,0">
                                            <TextBlock Text="{Binding DateCreated, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='ListDateCreated'}"
                                                       Style="{StaticResource PatientListLocalTextBlockStyle12}"/>
                                        </Grid>

                                        <Grid Grid.Column="7" Margin="10,0,0,0" HorizontalAlignment="Center">
                                            <!-- Analysis status -->
                                            <Grid  HorizontalAlignment="Left">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="24"/>
                                                    <ColumnDefinition Width="80"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid Grid.Column="0">
                                                    <Image Width="24"
                                                           Height="24"
                                                           Source="{Binding AnalysisStatus, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='AnalysisStatusImage'}"/>
                                                </Grid>
                                                <Grid Grid.Column="1">
                                                    <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle9}"
                                                               Foreground="{Binding AnalysisStatus, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='AnalysisStatusTextColor'}"
                                                               Text="{Binding AnalysisStatus, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='AnalysisStatusText'}"/>
                                                </Grid>
                                            </Grid>

                                        </Grid>

                                        <Grid Grid.Column="8">
                                            <Button Style="{StaticResource PatientListLocalButtonStyle7}"
                                                    Visibility="{Binding AdminNote, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='EnableAdminNoteButton'}">
                                                <Image Width="24"
                                                       Height="24"
                                                       Source="ms-appx:///Assets/Images/IconAdminNote.png"/>
                                                <ToolTipService.ToolTip>
                                                    <ToolTip x:Uid="CtlViewNote" />
                                                </ToolTipService.ToolTip>                                              
                                                
                                                <Button.Flyout>
                                                    <Flyout FlyoutPresenterStyle="{StaticResource PatientListLocalFlyoutPresenterStyle1}"
                                                            Placement="Left"
                                                            Opened="AdminNoteFlyout_Opended"
                                                            Closed="AdminNoteFlyout_Closed">
                                                        <Grid Width="300">
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition/>
                                                                <RowDefinition Height="12"/>
                                                                <RowDefinition/>
                                                                <RowDefinition Height="12"/>
                                                                <RowDefinition/>
                                                                <RowDefinition Height="12"/>
                                                                <RowDefinition/>
                                                            </Grid.RowDefinitions>
                                                            <Grid Grid.Row="0">
                                                                <TextBlock x:Uid="CtlNote"
                                                                           Style="{StaticResource PatientListLocalTextBlockStyle18}"/>

                                                                <Button Style="{StaticResource PatientListLocalButtonStyle8}"
                                                                        Click="CloseAdminNoteFlyout_Click">
                                                                    <Image Style="{StaticResource DialogHeaderCloseButtonStyle1}"/>
                                                                    <ToolTipService.ToolTip>
                                                                        <ToolTip x:Uid="CtlCloseTooltip" />
                                                                    </ToolTipService.ToolTip>
                                                                </Button>
                                                            </Grid>
                                                            <Grid Grid.Row="2">
                                                                <ScrollViewer MaxHeight="150"
                                                                              VerticalScrollBarVisibility="Auto">
                                                                    <RichTextBlock Style="{StaticResource PatientListLocalRichTextBlockStyle1}">
                                                                        <Paragraph>
                                                                            <Run Text="{Binding AdminNote, Mode=OneWay,
                                                                                Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='AdminNoteText'}" />
                                                                        </Paragraph>
                                                                    </RichTextBlock>
                                                                </ScrollViewer>
                                                            </Grid>
                                                            <Grid Grid.Row="4">
                                                                <Rectangle Height="1" Margin="0,0,0,5" Fill="{StaticResource SolidDkSolid}"/>
                                                            </Grid>
                                                            <Grid Grid.Row="6">
                                                                <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle19}"
                                                                           Text="{Binding AdminNote, Mode=OneWay, Converter={StaticResource wexpertPatientListConverter}, ConverterParameter='AdminNoteDate'}"/>
                                                            </Grid>
                                                        </Grid>
                                                    </Flyout>
                                                </Button.Flyout>
                                            </Button>                                            
                                        </Grid>
                                    </Grid>
                                    <Grid Height="1" Background="{StaticResource SolidDkSolid}" />
                                </StackPanel>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                    <!-- Shows when the list is empty. -->
                    <StackPanel Visibility="{x:Bind ViewModel.NoResult, Mode=OneWay}"
                                Margin="0,100,0,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Top">
                        <TextBlock x:Uid="CtlResultNotFound"
                                   HorizontalAlignment="Center"
                                   FontSize="18"
                                   Foreground="{StaticResource TextTertiary}"
                                   Margin="0,10,0,0"/>
                    </StackPanel>

                    <!-- List loading progress -->
                    <ProgressRing IsActive="{x:Bind ViewModel.PatientListProgressRing, Mode=OneWay}" Style="{StaticResource WEXProgressRingStyle1}"/>

                </Grid>
            </Grid>
            <!-- #endregion -->

            <!-- #region splitter -->
            <Grid Grid.Row="6">
                <Rectangle Height="3"
                           HorizontalAlignment="Stretch"
                           VerticalAlignment="Top"
                           Fill="{StaticResource SolidDkSolid}"/>
            </Grid>
            <!-- #endregion -->

            <!-- #region Page navigation -->
            <Grid Grid.Row="7" >
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="18"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="5"/>
                </Grid.ColumnDefinitions>
                <Grid Grid.Column="0">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Uid="CtlRowPerPage"
                                   Style="{StaticResource PatientListLocalTextBlockStyle5}"/>
                        <DropDownButton x:Name="RowPerPageDropDown"
                                        Style="{StaticResource PatientListLocalDropDownButtonStyle2}"
                                        Content="{x:Bind ViewModel.SelectedRowPerPage, Mode=OneWay}">
                            <DropDownButton.Flyout>
                                <Flyout Placement="Top">
                                    <Flyout.FlyoutPresenterStyle>
                                        <Style TargetType="FlyoutPresenter">
                                            <Setter Property="Background" Value="{StaticResource BgBase}"/>
                                            <Setter Property="CornerRadius" Value="5"/>
                                            <Setter Property="Padding" Value="0"/>
                                        </Style>
                                    </Flyout.FlyoutPresenterStyle>
                                    <ListView x:Name="RowPerPageDropDownList"
                                              SelectionMode="Single"
                                              SelectionChanged="RowPerPages_SelectionChanged"
                                              ItemContainerStyle="{StaticResource WEXBaseListViewItemStyle1}">
                                        <ListView.ItemTemplate>
                                            <DataTemplate x:DataType="x:String">
                                                <TextBlock Text="{Binding}" Foreground="{StaticResource TextPrimary}"/>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>
                                </Flyout>
                            </DropDownButton.Flyout>
                        </DropDownButton>
                    </StackPanel>
                </Grid>
                <Grid Grid.Column="1">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                        <TextBlock Style="{StaticResource PatientListLocalTextBlockStyle7}"
                                   Text="{x:Bind ViewModel.CurrentPageStatus, Mode=OneWay}"/>
                    </StackPanel>
                </Grid>
                <Grid Grid.Column="3">
                    <Button Style="{StaticResource PatientListLocalButtonStyle3}" 
                            IsEnabled="{x:Bind ViewModel.EnablePreviousPageBtn, Mode=OneWay}"
                            Command="{x:Bind ViewModel.PreviousPageCommand}">
                        <Image Width="24"
                               Height="24"
                               Source="ms-appx:///Assets/Images/Previous.png"/>
                        <ToolTipService.ToolTip>
                            <ToolTip x:Uid="CtlPreviousButtonTooltip"/>
                        </ToolTipService.ToolTip>
                    </Button>
                </Grid>

                <Grid Grid.Column="5">
                    <Button Style="{StaticResource PatientListLocalButtonStyle3}" 
                            IsEnabled="{x:Bind ViewModel.EnableNextPageBtn, Mode=OneWay}"
                            Command="{x:Bind ViewModel.NextPageCommand}">
                        <Image Width="24"
                               Height="24"
                               Source="ms-appx:///Assets/Images/Next.png"/>
                        <ToolTipService.ToolTip>
                            <ToolTip x:Uid="CtlNextButtonTooltip" />
                        </ToolTipService.ToolTip>
                    </Button>

                </Grid>
            </Grid>
            <!-- #endregion -->
        </Grid>
    </Grid>
</base:WEXBasePage>